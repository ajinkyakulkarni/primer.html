<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Technical topics">
<meta name="keywords" content="Idle,Emacs,Vim,Gedit,TextWrangler,Notepad++,run Python program,execute Python program,make a folder (in Python),directory,environment variables,move to a folder (in Python),rename file/folder (in Python),list files (in Python),check file/folder existence (in Python),remove files (in Python),delete files (in Python),remove folders (in Python),delete folders (in Python),copy files (in Python),copy folders (in Python),run programs (from Python),execute programs (from Python),split filename,positional arguments,keyword arguments,variable no. of function arguments,time system,time user,time CPU,time elapsed,system time,user time,elapsed time,CPU time measurements,timing utilities,efficiency,profiling,optimization of Python code">

<title>Technical topics</title>


<link href="https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_styles/style_solarized_box/css/solarized_light_code.css" rel="stylesheet" type="text/css" title="light"/>
<script src="https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_styles/style_solarized_box/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<link href="http://thomasf.github.io/solarized-css/solarized-light.min.css" rel="stylesheet">
<style type="text/css">
h1 {color: #b58900;}  /* yellow */
/* h1 {color: #cb4b16;}  orange */
/* h1 {color: #d33682;}  magenta, the original choice of thomasf */
code { padding: 0px; background-color: inherit; }
pre {
  border: 0pt solid #93a1a1;
  box-shadow: none;
}
.alert-text-small   { font-size: 80%;  }
.alert-text-large   { font-size: 130%; }
.alert-text-normal  { font-size: 90%;  }
.alert {
  padding:8px 35px 8px 14px; margin-bottom:18px;
  text-shadow:0 1px 0 rgba(255,255,255,0.5);
  border:1px solid #93a1a1;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  color: #555;
  background-color: #eee8d5;
  background-position: 10px 5px;
  background-repeat: no-repeat;
  background-size: 38px;
  padding-left: 55px;
  width: 75%;
 }
.alert-block {padding-top:14px; padding-bottom:14px}
.alert-block > p, .alert-block > ul {margin-bottom:1em}
.alert li {margin-top: 1em}
.alert-block p+p {margin-top:5px}
.alert-notice { background-image: url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_notice.png); }
.alert-summary  { background-image:url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_summary.png); }
.alert-warning { background-image: url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_warning.png); }
.alert-question {background-image:url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_question.png); }

div { text-align: justify; text-justify: inter-word; }
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [(' Accessing Python ', 1, 'sec:accesspy', 'sec:accesspy'),
              (' Required software ',
               2,
               'sec:accesspy:softwarelist',
               'sec:accesspy:softwarelist'),
              (' Installing software on your laptop: Mac OS X and Windows ',
               2,
               'sec:accesspy:MacWin',
               'sec:accesspy:MacWin'),
              (' Anaconda and Spyder ',
               2,
               'sec:accesspy:anaconda',
               'sec:accesspy:anaconda'),
              (' Spyder on Mac ', 3, None, '___sec4'),
              (' Installation of additional packages ', 3, None, '___sec5'),
              (' VMWare Fusion virtual machine ',
               2,
               'sec:accesspy:vmware',
               'sec:accesspy:vmware'),
              (' Installing Ubuntu ',
               3,
               'sec:accesspy:vmware:fullblown:machine',
               'sec:accesspy:vmware:fullblown:machine'),
              (' Installing software on Ubuntu ', 3, None, '___sec8'),
              (' File sharing ', 3, None, '___sec9'),
              (' Dual boot on Windows ', 2, None, '___sec10'),
              (' Vagrant virtual machine ',
               2,
               'sec:accesspy:vagrant',
               'sec:accesspy:vagrant'),
              (' How to write and run a Python program ',
               2,
               'sec:accesspy:writerun',
               'sec:accesspy:writerun'),
              (' The need for a text editor ', 3, None, '___sec13'),
              (' Spyder ', 3, None, '___sec14'),
              (' Text editors ', 3, None, '___sec15'),
              (' Terminal windows ', 3, None, '___sec16'),
              (' Using a plain text editor and a terminal window ',
               3,
               None,
               '___sec17'),
              (' The SageMathCloud and Wakari web services ',
               2,
               'sec:accesspy:sagemath:wakari',
               'sec:accesspy:sagemath:wakari'),
              (' Basic intro to SageMathCloud ', 3, None, '___sec19'),
              (' Basic intro to Wakari ', 3, None, '___sec20'),
              (' Installing your own Python packages ', 3, None, '___sec21'),
              (' Writing IPython notebooks ',
               2,
               'sec:accesspy:ipynb',
               'sec:accesspy:ipynb'),
              (' A simple program in the notebook ', 3, None, '___sec23'),
              (' Mixing text, mathematics, code, and graphics ',
               3,
               None,
               '___sec24'),
              (' Different ways of running Python programs ',
               1,
               'ch:runpy',
               'ch:runpy'),
              (' Executing Python programs in iPython ',
               2,
               'sec:runpy:ipy',
               'sec:runpy:ipy'),
              (' Executing Python programs in Unix ',
               2,
               'sec:runpy:unix',
               'sec:runpy:unix'),
              (' Executing Python programs in Windows ',
               2,
               'sec:runpy:win',
               'sec:runpy:win'),
              (' Double-clicking Python files ', 3, None, '___sec29'),
              (' Executing Python programs in Mac OS X ',
               2,
               None,
               '___sec30'),
              (' Making a complete stand-alone executable ',
               2,
               None,
               '___sec31'),
              (' Doing operating system tasks in Python ',
               1,
               'ch:ostasks',
               'ch:ostasks'),
              (' Make a folder ', 3, None, '___sec33'),
              (' Make intermediate folders ', 3, None, '___sec34'),
              (' Move to a folder ', 3, None, '___sec35'),
              (' Rename a file or folder ', 3, None, '___sec36'),
              (' List files ', 3, None, '___sec37'),
              (' List all files and folders in a folder ',
               3,
               None,
               '___sec38'),
              (' Check if a file or folder exists ', 3, None, '___sec39'),
              (' Remove files ', 3, None, '___sec40'),
              (' Remove a folder and all its subfolders ',
               3,
               None,
               '___sec41'),
              (' Copy a file to another file or folder ',
               3,
               None,
               '___sec42'),
              (' Copy a folder and all its subfolders ', 3, None, '___sec43'),
              (' Run any operating system command ', 3, None, '___sec44'),
              (' Split file or folder name ', 3, None, '___sec45'),
              (' Variable number of function arguments ',
               1,
               'sec:args:kwargs',
               'sec:args:kwargs'),
              (' Variable number of positional arguments ',
               2,
               'sec:misc:varargs:pos',
               'sec:misc:varargs:pos'),
              (' Example ', 3, None, '___sec48'),
              (' Variable number of keyword arguments ',
               2,
               'sec:misc:varargs:kw',
               'sec:misc:varargs:kw'),
              (' Example ', 3, None, '___sec50'),
              (' Evaluating program efficiency ', 1, None, '___sec51'),
              (' Making time measurements ',
               2,
               'sec:timing:measures',
               'sec:timing:measures'),
              (' The time module ', 3, None, '___sec53'),
              (' Using timeit from IPython ', 3, None, '___sec54'),
              (' Hardware information ', 3, None, '___sec55'),
              (' Profiling Python programs ',
               2,
               'sec:timing:profiler',
               'sec:timing:profiler'),
              (' References ', 1, None, '___sec57')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



    
<a name="part0009"></a>
<p>
<!-- begin top navigation -->
<table style="width: 100%"><tr><td>
<div style="text-align: left;"><a href="._tech-solarized008.html">&laquo; Previous</a></div>
</td><td>
<div style="text-align: right;"><a href="._tech-solarized010.html">Next &raquo;</a></div>
</td></tr></table>
<!-- end top navigation -->
</p>

<p>
<!-- !split -->
<p style="font-size:80%">This</p>

<h2 id="sec:accesspy:ipynb">Writing IPython notebooks</h2>

<p>
The IPython notebook is a splendid interactive tool for doing science,
but it can also be used as a platform for developing Python code.
You can either run it locally on your computer or in a web service
like SageMathCloud or Wakari. Installation on your computer
is trivial on Ubuntu, just <code>sudo apt-get install ipython-notebook</code>, and
also on <a href="http://ipython.org/install.html" target="_self">Windows and Mac</a> by
using Anaconda or Enthought Canopy for the Python installation.

<p>
The interface to the notebook is a web browser: you write all the
code and see all the results in the browser window.
There are excellent YouTube videos on how to use the IPython notebook,
so here we provide a very quick &quot;step zero&quot; to get anyone started.

<h3 id="___sec23">A simple program in the notebook </h3>

<p>
Start the IPython notebook locally by the command <code>ipython notebook</code>
or go to SageMathCloud or Wakari as described above.
The default input area is a <em>cell</em> for Python code.
Type

<p>
<!-- begin verbatim block  pycod-->
<pre><code>g = 9.81
v0 = 5
t = 0.6
y = v0*t - 0.5*g*t**2
</code></pre>
<!-- end verbatim block -->
in a cell and <em>run the cell</em> by clicking on <em>Run Selected</em> (notebook running
locally on your machine)
or on the &quot;play&quot; button (notebook running in the cloud).
This action will execute the Python code and initialize the
variables <code>g</code>, <code>v0</code>, <code>t</code>, and <code>y</code>. You can then write <code>print y</code> in a
new cell, execute that cell, and see the output of this statement in
the browser. It is easy to go back to a cell, edit the code, and
re-execute it.

<p>
To download the notebook to your computer, choose the
<em>File - Download as</em> menu and select the type of file
to be downloaded: the original notebook format (<code>.ipynb</code> file
extension) or a plain Python program version of the notebook
(<code>.py</code> file extension).

<h3 id="___sec24">Mixing text, mathematics, code, and graphics </h3>

<p>
The real strength of IPython notebooks arises when you want to write
a report to document how a problem can be explored and solved.
As a teaser, open a new notebook, click in the first cell, and choose
<em>Markdown</em> as format (notebook running locally) or switch from <em>Code</em>
to <em>Markdown</em> in the pull-down menu (notebook in the cloud). The cell
is now a text field where you can write text with <a href="http://daringfireball.net/projects/markdown/syntax" target="_self">Markdown</a> syntax. Mathematics can be entered
as LaTeX code. Try some text with inline mathematics and an equation on
a separate line:

<p>
<!-- begin verbatim block -->
<pre><code>Plot the curve $y=f(x)$, where

$$
f(x) = e^{-x}\sin (2\pi x),\quad x\in [0, 4]
$$
</code></pre>
<!-- end verbatim block -->
Execute the cell and you will see nicely typeset mathematics in the browser.
In the new cell, add some code to plot \( f(x) \):

<p>
<!-- begin verbatim block  pycod-->
<pre><code>import numpy as np
import matplotlib.pyplot as plt
%matplotlib inline  # make plots inline in the notebook

x = np.linspace(0, 4, 101)
y = np.exp(-x)*np.sin(2*pi*x)
plt.plot(x, y, 'b-')
plt.xlabel('x'); plt.ylabel('y')
</code></pre>
<!-- end verbatim block -->
Executing these statements results in a plot in the browser, see
Figure <a href="#sec:accesspy:ipynb:fig:graphics">2</a>. It was popular to
start the notebook by <code>ipython notebook --pylab</code> to import
everything from <code>numpy</code> and <code>matplotlib.pyplot</code> and make
all plots inline, but the <code>--pylab</code> option is now
officially <a href="http://carreau.github.io/posts/10-No-PyLab-Thanks.ipynb.html" target="_self">discouraged</a>.
If you want the notebook to behave more as MATLAB and not use
the <code>np</code> and <code>plt</code> prefix, you can instead of the first three
lines above write <code>%pylab</code>.

<p>
<center> <!-- figure -->
<hr class="figure">
<center><p class="caption">Figure 2:  Example on an IPython notebook. <div id="sec:accesspy:ipynb:fig:graphics"></div> </p></center>
<p><img src="fig-accesspy/sage_ipynb_eqs_graphics.png" align="bottom" width=700></p>
</center>

<h1 id="ch:runpy">Different ways of running Python programs</h1>

<p>
Python programs are compiled and interpreted by another program called
<code>python</code>. To run a Python program, you need to tell the operating
system that your program is to be interpreted by the <code>python</code> program.
This section explains various ways of doing this.

<h2 id="sec:runpy:ipy">Executing Python programs in iPython</h2>

<p>
The simplest and most flexible way of executing a Python program is to
run it inside IPython.
You start IPython either by the command
<code>ipython</code> in a terminal window, or by double-clicking the IPython
program icon (on Windows).  Then, inside IPython, you can run a
program <code>prog.py</code> by

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>In [1]: run prog.py arg1 arg2
</code></pre>
<!-- end verbatim block -->
where <code>arg1</code> and <code>arg2</code> are command-line arguments.

<p>
This method of running Python programs works the same way on all
platforms. One additional advantage of running programs under IPython
is that you can automatically enter the Python debugger if an exception
is
raised (see the document <a href="http://tcse6.on.net/debug" target="_self">Debugging in Python</a> <a href="._tech-solarized012.html#Langtangen_TCSE6_debug">[11]</a>).
Although we advocate running Python programs under IPython in this document,
you can also run them directly under specific operating systems.
This is explained next for Unix, Windows, and Mac OS X.

<h2 id="sec:runpy:unix">Executing Python programs in Unix</h2>

<p>
There are two ways of executing a Python program <code>prog.py</code> in
Unix-based systems.
The first explicitly tells which Python interpreter to use:

<p>
<!-- begin verbatim block  sys-->
<pre><code>Unix&gt; python prog.py arg1 arg2
</code></pre>
<!-- end verbatim block -->
Here, <code>arg1</code> and <code>arg2</code> are command-line arguments.

<p>
There may be many Python interpreters on your computer system, usually
corresponding to different versions of Python or different
sets of additional packages and modules.
The Python interpreter (<code>python</code>) used in the command above is the first
program with the name <code>python</code> appearing in the folders
listed in your <code>PATH</code> environment variable. A specific
<code>python</code> interpreter, say in <code>/home/hpl/local/bin</code>, can easily
be used as default choice by putting this folder name first in
the <code>PATH</code> variable. <code>PATH</code> is normally controlled in the <code>.bashrc</code>
file. Alternatively, we may specify the
interpreter's complete file path when running <code>prog.py</code>:

<p>
<!-- begin verbatim block  sys-->
<pre><code>Unix&gt; /home/hpl/bin/python prog.py arg1 arg2
</code></pre>
<!-- end verbatim block -->

<p>
The other way of executing Python programs in Unix consists of just
writing the name of the file:

<p>
<!-- begin verbatim block  sys-->
<pre><code>Unix&gt; ./prog.py arg1 arg2
</code></pre>
<!-- end verbatim block -->
The leading <code>./</code> is needed to tell that the program is located in
the current folder.
You can also just write

<p>
<!-- begin verbatim block  sys-->
<pre><code>Unix&gt; prog.py arg1 arg2
</code></pre>
<!-- end verbatim block -->
but then you need to have the dot in
the <code>PATH</code> variable, which is not recommended for security reasons.

<p>
In the two latter commands there is no information on which Python
interpreter to use. This information must be provided in the first
line of the program, normally as

<p>
<!-- begin verbatim block  pycod-->
<pre><code>#!/usr/bin/env python
</code></pre>
<!-- end verbatim block -->
This looks like a comment line, and behaves indeed as a comment line
when we run the program as <code>python prog.py</code>. However, when we run the
program as <code>./prog.py</code>, the first line beginning with <code>#!</code> tells the
operating system to use the program specified in the rest of
the first line
to interpret the program. In this example, we use the first
<code>python</code> program encountered in the folders in your <code>PATH</code> variable.
Alternatively, a specific <code>python</code> program can be specified as

<p>
<!-- begin verbatim block  pycod-->
<pre><code>#!/home/hpl/special/tricks/python
</code></pre>
<!-- end verbatim block -->

<h2 id="sec:runpy:win">Executing Python programs in Windows</h2>

<p>
In a DOS or PowerShell window you can always run a Python program by

<p>
<!-- begin verbatim block  sys-->
<pre><code>PowerShell&gt; python prog.py arg1 arg2
</code></pre>
<!-- end verbatim block -->
if <code>prog.py</code> is the name of the program, and <code>arg1</code> and <code>arg2</code>
are command-line arguments. The extension <code>.py</code> can be dropped:

<p>
<!-- begin verbatim block  sys-->
<pre><code>PowerShell&gt; python prog arg1 arg2
</code></pre>
<!-- end verbatim block -->
If there are several Python installations on your system, a particular
installation can be specified:

<p>
<!-- begin verbatim block  sys-->
<pre><code>PowerShell&gt; E:\hpl\myprogs\Python2.7.5\python prog arg1 arg2
</code></pre>
<!-- end verbatim block -->

<p>
Files with a certain extension can in Windows be associated with a
file type, and a file type can be associated with a particular program
to handle the file. For example, it is natural to associate the
extension <code>.py</code> with Python programs. The corresponding program
needed to interpret <code>.py</code> files is
then <code>python.exe</code>.
When we write just the name of the Python program file, as in

<p>
<!-- begin verbatim block  sys-->
<pre><code>PowerShell&gt; prog arg1 arg2
</code></pre>
<!-- end verbatim block -->
the file is always
interpreted by the specified <code>python.exe</code> program.
The details of getting <code>.py</code> files to be interpreted by
<code>python.exe</code> go as follows:

<p>
<!-- begin verbatim block  sys-->
<pre><code>PowerShell&gt; assoc .py=PyProg
PowerShell&gt; ftype PyProg=python.exe &quot;%1&quot; %*
</code></pre>
<!-- end verbatim block -->
Depending on your Python installation, such file extension bindings may
already be done. You can check this with

<p>
<!-- begin verbatim block  sys-->
<pre><code>PowerShell&gt; assoc | find &quot;py&quot;
</code></pre>
<!-- end verbatim block -->
To see the programs associated with a file type, write <code>ftype name</code>
where <code>name</code> is the name of the file type as specified by the
<code>assoc</code> command. Writing <code>help ftype</code> and <code>help assoc</code>
prints out more information about these commands along with examples.

<p>
One can also run Python programs by writing just the basename of
the program file, i.e., <code>prog.py</code> instead of <code>prog.py</code>,
if the file extension is registered in the <code>PATHEXT</code> environment
variable.

<h3 id="___sec29">Double-clicking Python files </h3>

<p>
The usual way of running programs in Windows is to double click on
the file icon. This does not work well with Python programs without
a graphical user interface. When you double click on the icon for a
file <code>prog.py</code>, a DOS window is opened, <code>prog.py</code> is
interpreted by some <code>python.exe</code> program, and when the
program terminates, the DOS window is closed.
There
is usually too little time for the user to observe
the output in this short-lived DOS window.

<p>
One can always insert a final statement that pauses the program
by waiting for input from the user:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>raw_input('Type CR:')
</code></pre>
<!-- end verbatim block -->
or

<p>
<!-- begin verbatim block  pycod-->
<pre><code>sys.stdout.write('Type CR:'); sys.stdin.readline()
</code></pre>
<!-- end verbatim block -->
The program will hang until the user
presses the Return key. During this pause
the DOS window is visible and you can watch the output from previous
statements in the program.

<p>
The downside of including a final input statement is that
you must always hit Return before the
program terminates. This is inconvenient if the program is moved
to a Unix-type machine.
One possibility is to let this final input statement be active
only when the program is run in Windows:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>if sys.platform[:3] == 'win':
    raw_input('Type CR:')
</code></pre>
<!-- end verbatim block -->

<p>
Python programs that have a graphical user interface can be double-clicked
in the usual way if the file extension is <code>.pyw</code>.

<p>
<!-- === Gnuplot plots in Windows === -->
<!-- Programs that call <code>plot</code> to visualize a graph with the aid of -->
<!-- Gnuplot suffer from the same problem as described above: -->
<!-- the plot window disappears quickly. Again, the recipe is to insert -->
<!-- a <code>raw_input</code> call at the end of the program. -->

<h2 id="___sec30">Executing Python programs in Mac OS X </h2>

<p>
Since a variant of Unix is used as core in the Mac OS X operating system,
you can always launch a Unix terminal and use the techniques
from the section <a href="#sec:runpy:unix">Executing Python programs in Unix</a> to run Python programs.

<h2 id="___sec31">Making a complete stand-alone executable </h2>
Python programs need a Python interpreter and usually a set of
modules to be installed on the computer system.
Sometimes this is inconvenient, for instance when you want to give
your program to somebody who does not necessarily have Python or
the required set of modules installed.

<p>
Fortunately, there are tools that can create a stand-alone executable
program out of a Python program.
This stand-alone executable
can be run on every computer that has the same type of
operating system and the same chip type. Such a stand-alone
executable is a bundling of the Python interpreter and the required
modules, along with your program, in a single file.

<p>
The leading tool for creating a stand-alone executable (or alternatively a
folder with all necessary files) is <a href="http://www.pyinstaller.org/" target="_self">PyInstaller</a>.
Say you have program <code>myprog.py</code> that you want
to distribute to people without the necessary Python environment on
their computer. You run

<p>
<!-- begin verbatim block  sys-->
<pre><code>Terminal&gt; pyinstaller --onefile myprog.py
</code></pre>
<!-- end verbatim block -->
and a folder <code>dist</code> is created with the (big)
stand-alone executable file <code>myprog</code>
(or <code>myprog.exe</code> in Windows).

<h1 id="ch:ostasks">Doing operating system tasks in Python</h1>

<p>
Python has extensive support for operating system tasks, such as
file and folder management. The great advantage of doing operating
system tasks in Python and not directly in the operating system is
that the Python code works uniformly on Unix/Linux, Windows, and Mac
(there are exceptions, but they are few).
Below we list some useful operations that can be done inside
a Python program or in an interactive session.

<p>
<!-- Acknowledge Springer book -->

<p>
<p>
<!-- begin bottom navigation -->
<table style="width: 100%"><tr><td>
<div style="text-align: left;"><a href="._tech-solarized008.html">&laquo; Previous</a></div>
</td><td>
<div style="text-align: right;"><a href="._tech-solarized010.html">Next &raquo;</a></div>
</td></tr></table>
<!-- end bottom navigation -->
</p>

<!-- ------------------- end of main content --------------- -->


</body>
</html>
    

