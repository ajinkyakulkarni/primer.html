<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Loops and lists">
<meta name="keywords" content="loops,boolean expressions,logical expressions,factorial,lists,method (class),list comprehension,list, nested,nested lists,list comprehension,pretty print,sublist,slicing,nested loops,tuples,list functionality,sequence (data type),sum ($\Sigma$) implementation,comparing floating-point numbers,comparing real numbers,comparing objects">

<title>Loops and lists</title>

<!-- Bootstrap style: bootswatch_readable -->
<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/readable/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">
/* Let inline verbatim have the same color as the surroundings */
code { color: inherit; background-color: transparent; }
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [(' While loops ', 1, 'sec:basic:loops', 'sec:basic:loops'),
              (' A naive solution ', 2, 'sec:basic:naive', 'sec:basic:naive'),
              (' While loops ', 2, 'sec:basic:while', 'sec:basic:while'),
              (' Boolean expressions ',
               2,
               'sec:basic:boolexpr',
               'sec:basic:boolexpr'),
              (' Loop implementation of a sum ',
               2,
               'sec:basic:sumloop',
               'sec:basic:sumloop'),
              (' Lists ', 1, None, '___sec5'),
              (' Basic list operations ',
               2,
               'sec:lists:basc:op',
               'sec:lists:basc:op'),
              (' For loops ', 2, None, '___sec7'),
              (' The nature of for loops ', 3, None, '___sec8'),
              (' Making the table ', 3, None, '___sec9'),
              (' Alternative implementations with lists and loops ',
               1,
               None,
               '___sec10'),
              (' While loop implementation of a for loop ',
               2,
               None,
               '___sec11'),
              (' The range construction ', 2, None, '___sec12'),
              (' For loops with list indices ', 2, None, '___sec13'),
              (' Changing list elements ', 2, None, '___sec14'),
              (' List comprehension ',
               2,
               'sec:basic:list:comprehension',
               'sec:basic:list:comprehension'),
              (' Traversing multiple lists simultaneously ',
               2,
               None,
               '___sec16'),
              (' Nested lists ',
               1,
               'sec:basic:nestedlists',
               'sec:basic:nestedlists'),
              (' A table as a list of rows or columns ', 2, None, '___sec18'),
              (' Printing objects ', 2, None, '___sec19'),
              (' Modules for pretty print of objects ', 3, None, '___sec20'),
              (' Manual printing ', 3, None, '___sec21'),
              (' Extracting sublists ',
               2,
               'sec:basic:slice',
               'sec:basic:slice'),
              (' Example ', 3, None, '___sec23'),
              (' Traversing nested lists ', 2, None, '___sec24'),
              (' Tuples ', 1, 'sec:lists:tuples', 'sec:lists:tuples'),
              (' Summary ',
               1,
               'sec:looplist:summary',
               'sec:looplist:summary'),
              (' Chapter topics ', 2, None, '___sec27'),
              (' While loops ', 3, None, '___sec28'),
              (' Lists ', 3, None, '___sec29'),
              (' Nested lists ', 3, None, '___sec30'),
              (' Tuples ', 3, None, '___sec31'),
              (' For loops ', 3, None, '___sec32'),
              (' Pretty print ', 3, None, '___sec33'),
              (' Terminology ', 3, None, '___sec34'),
              (' Example: Analyzing list data ',
               2,
               'sec:looplist:summary:ex',
               'sec:looplist:summary:ex'),
              (' Problem ', 3, None, '___sec36'),
              (' Solution ', 3, None, '___sec37'),
              (' Remark ', 3, None, '___sec38'),
              (' How to find more Python information ',
               2,
               'sec:basic:pyinfo',
               'sec:basic:pyinfo'),
              (' Exercises ', 1, None, '___sec40'),
              (' Exercise 1: Make a Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex41',
               'sec:basic:ex41'),
              (' Exercise 2: Generate an approximate Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex1',
               'sec:basic:ex1'),
              (' Exercise 3: Work with a list ',
               2,
               'sec:basic:ex00',
               'sec:basic:ex00'),
              (' Exercise 4: Generate odd numbers ',
               2,
               'sec:basic:ex0',
               'sec:basic:ex0'),
              (' Exercise 5: Sum of first $n$ integers ',
               2,
               'sec:basic:sum:no',
               'sec:basic:sum:no'),
              (' Exercise 6: Generate equally spaced coordinates ',
               2,
               'sec:basic:ex44',
               'sec:basic:ex44'),
              (' Exercise 7: Make a table of values from a formula ',
               2,
               'sec:basic:ex4',
               'sec:basic:ex4'),
              (' Exercise 8: Store values from a formula in lists ',
               2,
               'sec:basic:ex4b',
               'sec:basic:ex4b'),
              (' Exercise 9: Simulate operations on lists by hand ',
               2,
               'sec:basic:ex43',
               'sec:basic:ex43'),
              (' Exercise 10: Compute a mathematical sum ',
               2,
               'sec:basic:ex29a',
               'sec:basic:ex29a'),
              (' Exercise 11: Replace a while loop by a for loop ',
               2,
               'sec:basic:ex29b',
               'sec:basic:ex29b'),
              (' Exercise 12: Simulate a program by hand ',
               2,
               'sec:basic:ex24a',
               'sec:basic:ex24a'),
              (' Exercise 13: Explore Python documentation ',
               2,
               'sec:basic:ex47',
               'sec:basic:ex47'),
              (' Exercise 14: Index a nested list ',
               2,
               'sec:basic:ex15n',
               'sec:basic:ex15n'),
              (' Exercise 15: Store data in lists ',
               2,
               'sec:basic:ex1b',
               'sec:basic:ex1b'),
              (' Exercise 16: Store data in a nested list ',
               2,
               'sec:basic:ex4c',
               'sec:basic:ex4c'),
              (' Exercise 17: Values of boolean expressions ',
               2,
               'sec:basic:ex15b',
               'sec:basic:ex15b'),
              (' Exercise 18: Explore round-off errors from a large number of inverse operations ',
               2,
               'sec:basic:ex14b',
               'sec:basic:ex14b'),
              (' Exercise 19: Explore what zero can be on a computer ',
               2,
               'sec:basic:ex14',
               'sec:basic:ex14'),
              (' Remarks ', 3, None, '___sec60'),
              (' Exercise 20: Compare two real numbers with a tolerance ',
               2,
               'sec:formula:ex14c',
               'sec:formula:ex14c'),
              (' Exercise 21: Interpret a code ',
               2,
               'sec:basic:ex16',
               'sec:basic:ex16'),
              (' Exercise 22: Explore problems with inaccurate indentation ',
               2,
               'sec:basic:ex3',
               'sec:basic:ex3'),
              (' Remarks ', 3, None, '___sec64'),
              (' Exercise 23: Explore punctuation in Python programs ',
               2,
               'sec:input:ex33',
               'sec:input:ex33'),
              (' Exercise 24: Investigate a for loop over a changing list ',
               2,
               'sec:basic:ex18',
               'sec:basic:ex18'),
              (' References ', 1, None, '___sec67')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- newcommands_keep.tex -->
$$
\newcommand{\tp}{\thinspace .}
$$




    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="looplist-readable.html">Loops and lists</a>
  </div>
  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._looplist-readable001.html#sec:basic:loops" style="font-size: 80%;">While loops</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable002.html#___sec5" style="font-size: 80%;">Lists</a></li>
     <!-- navigation toc: --> <li><a href="#___sec10" style="font-size: 80%;">Alternative implementations with lists and loops</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable004.html#sec:basic:nestedlists" style="font-size: 80%;">Nested lists</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable005.html#sec:lists:tuples" style="font-size: 80%;">Tuples</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable006.html#sec:looplist:summary" style="font-size: 80%;">Summary</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable007.html#___sec40" style="font-size: 80%;">Exercises</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable007.html#___sec67" style="font-size: 80%;">References</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0003"></a>
<!-- !split -->
<p style="font-size:80%">This chapter is taken from book <a href="http://www.springer.com/gp/book/9783642549588">A Primer on Scientific Programming with Python</a> by H. P. Langtangen, 4th edition, Springer, 2014.</p>

<h1 id="___sec10">Alternative implementations with lists and loops </h1>

<p>
We have already solved the problem of printing out a nice-looking
conversion table for Celsius and Fahrenheit degrees.
Nevertheless, there are usually many alternative ways to write a program that
solves a specific problem. The next paragraphs explore some other possible
Python constructs and programs to store numbers in lists and print out
tables. The various code snippets are collected in the program file
<a href="http://tinyurl.com/pwyasaa/looplist/session.py" target="_self"><tt>session.py</tt></a>.

<h2 id="___sec11">While loop implementation of a for loop </h2>

<p>
Any <code>for</code> loop can be implemented as a <code>while</code> loop.
The general code

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> element <span style="color: #AA22FF; font-weight: bold">in</span> somelist:
    <span style="color: #666666">&lt;</span>process element<span style="color: #666666">&gt;</span>
</pre></div>
<p>
can be transformed to this <code>while</code> loop:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">index <span style="color: #666666">=</span> <span style="color: #666666">0</span>
<span style="color: #008000; font-weight: bold">while</span> index <span style="color: #666666">&lt;</span> <span style="color: #008000">len</span>(somelist):
    element <span style="color: #666666">=</span> somelist[index]
    <span style="color: #666666">&lt;</span>process element<span style="color: #666666">&gt;</span>
    index <span style="color: #666666">+=</span> <span style="color: #666666">1</span>
</pre></div>
<p>
In particular, the example involving the printout of a table of
Celsius and Fahrenheit degrees can be implemented as follows in terms
of a <code>while</code> loop:

<p>

<!-- code=python (!bc pypro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Cdegrees <span style="color: #666666">=</span> [<span style="color: #666666">-20</span>, <span style="color: #666666">-15</span>, <span style="color: #666666">-10</span>, <span style="color: #666666">-5</span>, <span style="color: #666666">0</span>, <span style="color: #666666">5</span>, <span style="color: #666666">10</span>, <span style="color: #666666">15</span>, <span style="color: #666666">20</span>, <span style="color: #666666">25</span>, <span style="color: #666666">30</span>, <span style="color: #666666">35</span>, <span style="color: #666666">40</span>]
index <span style="color: #666666">=</span> <span style="color: #666666">0</span>
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;    C    F&#39;</span>
<span style="color: #008000; font-weight: bold">while</span> index <span style="color: #666666">&lt;</span> <span style="color: #008000">len</span>(Cdegrees):
    C <span style="color: #666666">=</span> Cdegrees[index]
    F <span style="color: #666666">=</span> (<span style="color: #666666">9.0/5</span>)<span style="color: #666666">*</span>C <span style="color: #666666">+</span> <span style="color: #666666">32</span>
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%5d</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%5.1f</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (C, F)
    index <span style="color: #666666">+=</span> <span style="color: #666666">1</span>
</pre></div>

<h2 id="___sec12">The range construction </h2>

<p>
It is tedious to write the many elements in the <code>Cdegrees</code> in the
previous programs. We should use a loop to automate the construction of
the <code>Cdegrees</code> list. The <code>range</code> construction is particularly
useful in this regard:

<ul>
  <li> <code>range(n)</code> generates integers <code>0, 1, 2, ..., n-1</code>.</li>
  <li> <code>range(start, stop, step)</code> generates a sequence if integers <code>start</code>, <code>start+step</code>, <code>start+2*step</code>, and so on up to, <em>but not including</em>, <code>stop</code>. For example, <code>range(2, 8, 3)</code> returns 2 and 5 (and not 8), while <code>range(1, 11, 2)</code> returns 1, 3, 5, 7, 9.</li>
  <li> <code>range(start, stop)</code> is the same as <code>range(start, stop, 1)</code>.</li>
</ul>

A <code>for</code> loop over integers are written as

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(start, stop, step):
    <span style="color: #666666">...</span>
</pre></div>
<p>
We can use this construction to create a <code>Cdegrees</code> list of
the values \( -20, -15, \ldots, 40 \):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Cdegrees <span style="color: #666666">=</span> []
<span style="color: #008000; font-weight: bold">for</span> C <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">-20</span>, <span style="color: #666666">45</span>, <span style="color: #666666">5</span>):
    Cdegrees<span style="color: #666666">.</span>append(C)

<span style="color: #408080; font-style: italic"># or just</span>
Cdegrees <span style="color: #666666">=</span> <span style="color: #008000">range</span>(<span style="color: #666666">-20</span>, <span style="color: #666666">45</span>, <span style="color: #666666">5</span>)
</pre></div>
<p>
Note that the upper limit must be greater than <code>40</code> to ensure that
<code>40</code> is included in the range of integers.
<!-- Also note that <code>range</code> -->
<!-- can only generate integers, so the last line is only relevant if -->
<!-- we want equidistant integer temperatures. The more generally -->
<!-- applicable generation of equidistant temperatures is explained next. -->

<p>
Suppose we want to create <code>Cdegrees</code> as \( -10, -7.5, -5, \ldots, 40 \).
This time we cannot use <code>range</code> directly, because <code>range</code> can only
create integers and we have decimal degrees such as \( -7.5 \) and \( 1.5 \).
In this more general case, we introduce an integer counter \( i \) and
generate the \( C \) values by the formula \( C=-10 + i\cdot 2.5 \) for
\( i=0,1,\ldots, 20 \). The following Python code implements this task:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Cdegrees <span style="color: #666666">=</span> []
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">0</span>, <span style="color: #666666">21</span>):
     C <span style="color: #666666">=</span> <span style="color: #666666">-10</span> <span style="color: #666666">+</span> i<span style="color: #666666">*2.5</span>
     Cdegrees<span style="color: #666666">.</span>append(C)
</pre></div>

<h2 id="___sec13">For loops with list indices </h2>

<p>
Instead of iterating over a list directly with the construction

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> element <span style="color: #AA22FF; font-weight: bold">in</span> somelist:
    <span style="color: #666666">...</span>
</pre></div>
<p>
we can equivalently
iterate of the list indices and index the list inside the loop:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(somelist)):
    element <span style="color: #666666">=</span> somelist[i]
    <span style="color: #666666">...</span>
</pre></div>
<p>
Since <code>len(somelist)</code> returns the length of <code>somelist</code> and
the largest legal index is <code>len(somelist)-1</code>, because indices always
start at 0, <code>range(len(somelist))</code> will generate all the correct
indices: <code>0</code>, <code>1</code>, \( \ldots \), <code>len(somelist)-1</code>.

<p>
Programmers coming from other languages, such as Fortran,
C, C++, Java, and C#, are very much used to <code>for</code> loops with
integer counters and usually
tend to use <code>for i in range(len(somelist))</code> and work with
<code>somelist[i]</code> inside the loop. This might be necessary or convenient,
but if possible, Python programmers are encouraged to use
<code>for element in somelist</code>, which is more elegant to read.

<p>
Iterating over loop indices is useful when we need to process two
lists simultaneously. As an example, we first create two <code>Cdegrees</code>
and <code>Fdegrees</code> lists, and then we make a list to write out a table
with <code>Cdegrees</code> and <code>Fdegrees</code> as the two columns of the table.
Iterating over a loop index is convenient in the final list:

<p>

<!-- code=python (!bc pypro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Cdegrees <span style="color: #666666">=</span> []
n <span style="color: #666666">=</span> <span style="color: #666666">21</span>
C_min <span style="color: #666666">=</span> <span style="color: #666666">-10</span>
C_max <span style="color: #666666">=</span> <span style="color: #666666">40</span>
dC <span style="color: #666666">=</span> (C_max <span style="color: #666666">-</span> C_min)<span style="color: #666666">/</span><span style="color: #008000">float</span>(n<span style="color: #666666">-1</span>)  <span style="color: #408080; font-style: italic"># increment in C</span>
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">0</span>, n):
     C <span style="color: #666666">=</span> <span style="color: #666666">-10</span> <span style="color: #666666">+</span> i<span style="color: #666666">*</span>dC
     Cdegrees<span style="color: #666666">.</span>append(C)

Fdegrees <span style="color: #666666">=</span> []
<span style="color: #008000; font-weight: bold">for</span> C <span style="color: #AA22FF; font-weight: bold">in</span> Cdegrees:
    F <span style="color: #666666">=</span> (<span style="color: #666666">9.0/5</span>)<span style="color: #666666">*</span>C <span style="color: #666666">+</span> <span style="color: #666666">32</span>
    Fdegrees<span style="color: #666666">.</span>append(F)

<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(Cdegrees)):
    C <span style="color: #666666">=</span> Cdegrees[i]
    F <span style="color: #666666">=</span> Fdegrees[i]
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%5.1f</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%5.1f</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (C, F)
</pre></div>
<p>
Instead of appending new elements to the lists, we can start with lists
of the right size, containing zeros, and then index the lists to fill
in the right values. Creating a list of length <code>n</code> consisting of zeros
(for instance) is done by

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">somelist <span style="color: #666666">=</span> [<span style="color: #666666">0</span>]<span style="color: #666666">*</span>n
</pre></div>
<p>
With this construction, the program above can use <code>for</code> loops over
indices everywhere:

<p>

<!-- code=python (!bc pypro) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">n <span style="color: #666666">=</span> <span style="color: #666666">21</span>
C_min <span style="color: #666666">=</span> <span style="color: #666666">-10</span>
C_max <span style="color: #666666">=</span> <span style="color: #666666">40</span>
dC <span style="color: #666666">=</span> (C_max <span style="color: #666666">-</span> C_min)<span style="color: #666666">/</span><span style="color: #008000">float</span>(n<span style="color: #666666">-1</span>)  <span style="color: #408080; font-style: italic"># increment in C</span>

Cdegrees <span style="color: #666666">=</span> [<span style="color: #666666">0</span>]<span style="color: #666666">*</span>n
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(Cdegrees)):
     Cdegrees[i] <span style="color: #666666">=</span> <span style="color: #666666">-10</span> <span style="color: #666666">+</span> i<span style="color: #666666">*</span>dC

Fdegrees <span style="color: #666666">=</span> [<span style="color: #666666">0</span>]<span style="color: #666666">*</span>n
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(Cdegrees)):
    Fdegrees[i] <span style="color: #666666">=</span> (<span style="color: #666666">9.0/5</span>)<span style="color: #666666">*</span>Cdegrees[i] <span style="color: #666666">+</span> <span style="color: #666666">32</span>

<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(Cdegrees)):
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%5.1f</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%5.1f</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (Cdegrees[i], Fdegrees[i])
</pre></div>
<p>
Note that we need the construction <code>[0]*n</code> to create a list of the
right length, otherwise the index <code>[i]</code> will be illegal.

<h2 id="___sec14">Changing list elements </h2>

<p>
We have two seemingly alternative ways to traverse a list, either a
loop over elements or over indices. Suppose we want to change the
<code>Cdegrees</code> list by adding 5 to all elements. We could try

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> c <span style="color: #AA22FF; font-weight: bold">in</span> Cdegrees:
    c <span style="color: #666666">+=</span> <span style="color: #666666">5</span>
</pre></div>
<p>
but this loop leaves <code>Cdegrees</code> unchanged, while

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(Cdegrees)):
    Cdegrees[i] <span style="color: #666666">+=</span> <span style="color: #666666">5</span>
</pre></div>
<p>
works as intended. What is wrong with the first loop?
The problem is that <code>c</code> is an ordinary variable, which
refers to a list element in the loop, but when we execute
<code>c += 5</code>, we let <code>c</code> refer to a new <code>float</code> object (<code>c+5</code>).
This object is never inserted in the list. The first two
passes of the loop are equivalent to

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">c <span style="color: #666666">=</span> Cdegrees[<span style="color: #666666">0</span>]   <span style="color: #408080; font-style: italic"># automatically done in the for statement</span>
c <span style="color: #666666">+=</span> <span style="color: #666666">5</span>
c <span style="color: #666666">=</span> Cdegrees[<span style="color: #666666">1</span>]   <span style="color: #408080; font-style: italic"># automatically done in the for statement</span>
c <span style="color: #666666">+=</span> <span style="color: #666666">5</span>
</pre></div>
<p>
The variable <code>c</code> can only be used to read list elements and never
to change them. Only an assignment of the form

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Cdegrees[i] <span style="color: #666666">=</span> <span style="color: #666666">...</span>
</pre></div>
<p>
can change a list element.

<p>
There is a way of traversing a list where we get both the index and
an element in each pass of the loop:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> i, c <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">enumerate</span>(Cdegrees):
    Cdegrees[i] <span style="color: #666666">=</span> c <span style="color: #666666">+</span> <span style="color: #666666">5</span>
</pre></div>
<p>
This loop also adds 5 to all elements in the list.

<h2 id="sec:basic:list:comprehension">List comprehension</h2>

<p>
Because running through a list and for each element creating a new element
in another list is a frequently encountered task, Python has a special
compact syntax for doing this, called <em>list comprehension</em>.
The general syntax reads

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">newlist <span style="color: #666666">=</span> [E(e) <span style="color: #008000; font-weight: bold">for</span> e <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">list</span>]
</pre></div>
<p>
where
<code>E(e)</code> represents an expression involving element <code>e</code>.
Here are three examples:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Cdegrees <span style="color: #666666">=</span> [<span style="color: #666666">-5</span> <span style="color: #666666">+</span> i<span style="color: #666666">*0.5</span> <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(n)]
Fdegrees <span style="color: #666666">=</span> [(<span style="color: #666666">9.0/5</span>)<span style="color: #666666">*</span>C <span style="color: #666666">+</span> <span style="color: #666666">32</span> <span style="color: #008000; font-weight: bold">for</span> C <span style="color: #AA22FF; font-weight: bold">in</span> Cdegrees]
C_plus_5 <span style="color: #666666">=</span> [C<span style="color: #666666">+5</span> <span style="color: #008000; font-weight: bold">for</span> C <span style="color: #AA22FF; font-weight: bold">in</span> Cdegrees]
</pre></div>
<p>
List comprehensions are recognized as a <code>for</code> loop inside square
brackets and will be frequently exemplified throughout the document.

<h2 id="___sec16">Traversing multiple lists simultaneously </h2>

<p>
We may use the <code>Cdegrees</code> and <code>Fdegrees</code> lists to
make a table. To this end, we need to traverse both arrays.
The <code>for element in list</code> construction is not suitable in this
case, since it extracts elements from one list only.
A solution is to use a <code>for</code> loop over the integer indices so that
we can index both lists:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(Cdegrees)):
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%5d</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%5.1f</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (Cdegrees[i], Fdegrees[i])
</pre></div>
<p>
It happens quite frequently that two or more lists need to be traversed
simultaneously. As an alternative to the loop over indices,
Python offers a special nice syntax that can be sketched as

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> e1, e2, e3, <span style="color: #666666">...</span> <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">zip</span>(list1, list2, list3, <span style="color: #666666">...</span>):
    <span style="color: #408080; font-style: italic"># work with element e1 from list1, element e2 from list2,</span>
    <span style="color: #408080; font-style: italic"># element e3 from list3, etc.</span>
</pre></div>
<p>
The <code>zip</code> function turns \( n \) lists
(<code>list1, list2, list3, ...</code>) into one list
of \( n \)-tuples, where each \( n \)-tuple <code>(e1,e2,e3,...)</code>
has its first element (<code>e1</code>) from the first list (<code>list1</code>),
the second element (<code>e2</code>) from the second list (<code>list2</code>), and
so forth. The loop stops when the end of the shortest list is reached.
In our specific case of iterating over the two lists
<code>Cdegrees</code> and <code>Fdegrees</code>, we can use the <code>zip</code> function:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #008000; font-weight: bold">for</span> C, F <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">zip</span>(Cdegrees, Fdegrees):
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%5d</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%5.1f</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (C, F)
</pre></div>
<p>
It is considered more <em>Pythonic</em> to iterate over list elements,
here <code>C</code> and <code>F</code>, rather than over list indices as in
the <code>for i in range(len(Cdegrees))</code> construction.

<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._looplist-readable002.html">&larr; Prev</a>
  </li>
  <li class="next">
    <a href="._looplist-readable004.html">Next &rarr;</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

