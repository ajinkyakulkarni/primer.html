<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Loops and lists">
<meta name="keywords" content="loops,boolean expressions,logical expressions,factorial,lists,method (class),list comprehension,list, nested,nested lists,list comprehension,pretty print,sublist,slicing,nested loops,tuples,list functionality,sequence (data type),sum ($\Sigma$) implementation,comparing floating-point numbers,comparing real numbers,comparing objects">

<title>Loops and lists</title>

<!-- Bootstrap style: bootswatch_readable -->
<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/readable/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">
/* Let inline verbatim have the same color as the surroundings */
code { color: inherit; background-color: transparent; }
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [(' While loops ', 1, 'sec:basic:loops', 'sec:basic:loops'),
              (' A naive solution ', 2, 'sec:basic:naive', 'sec:basic:naive'),
              (' While loops ', 2, 'sec:basic:while', 'sec:basic:while'),
              (' Boolean expressions ',
               2,
               'sec:basic:boolexpr',
               'sec:basic:boolexpr'),
              (' Loop implementation of a sum ',
               2,
               'sec:basic:sumloop',
               'sec:basic:sumloop'),
              (' Lists ', 1, None, '___sec5'),
              (' Basic list operations ',
               2,
               'sec:lists:basc:op',
               'sec:lists:basc:op'),
              (' For loops ', 2, None, '___sec7'),
              (' The nature of for loops ', 3, None, '___sec8'),
              (' Making the table ', 3, None, '___sec9'),
              (' Alternative implementations with lists and loops ',
               1,
               None,
               '___sec10'),
              (' While loop implementation of a for loop ',
               2,
               None,
               '___sec11'),
              (' The range construction ', 2, None, '___sec12'),
              (' For loops with list indices ', 2, None, '___sec13'),
              (' Changing list elements ', 2, None, '___sec14'),
              (' List comprehension ',
               2,
               'sec:basic:list:comprehension',
               'sec:basic:list:comprehension'),
              (' Traversing multiple lists simultaneously ',
               2,
               None,
               '___sec16'),
              (' Nested lists ',
               1,
               'sec:basic:nestedlists',
               'sec:basic:nestedlists'),
              (' A table as a list of rows or columns ', 2, None, '___sec18'),
              (' Printing objects ', 2, None, '___sec19'),
              (' Modules for pretty print of objects ', 3, None, '___sec20'),
              (' Manual printing ', 3, None, '___sec21'),
              (' Extracting sublists ',
               2,
               'sec:basic:slice',
               'sec:basic:slice'),
              (' Example ', 3, None, '___sec23'),
              (' Traversing nested lists ', 2, None, '___sec24'),
              (' Tuples ', 1, 'sec:lists:tuples', 'sec:lists:tuples'),
              (' Summary ',
               1,
               'sec:looplist:summary',
               'sec:looplist:summary'),
              (' Chapter topics ', 2, None, '___sec27'),
              (' While loops ', 3, None, '___sec28'),
              (' Lists ', 3, None, '___sec29'),
              (' Nested lists ', 3, None, '___sec30'),
              (' Tuples ', 3, None, '___sec31'),
              (' For loops ', 3, None, '___sec32'),
              (' Pretty print ', 3, None, '___sec33'),
              (' Terminology ', 3, None, '___sec34'),
              (' Example: Analyzing list data ',
               2,
               'sec:looplist:summary:ex',
               'sec:looplist:summary:ex'),
              (' Problem ', 3, None, '___sec36'),
              (' Solution ', 3, None, '___sec37'),
              (' Remark ', 3, None, '___sec38'),
              (' How to find more Python information ',
               2,
               'sec:basic:pyinfo',
               'sec:basic:pyinfo'),
              (' Exercises ', 1, None, '___sec40'),
              (' Exercise 1: Make a Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex41',
               'sec:basic:ex41'),
              (' Exercise 2: Generate an approximate Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex1',
               'sec:basic:ex1'),
              (' Exercise 3: Work with a list ',
               2,
               'sec:basic:ex00',
               'sec:basic:ex00'),
              (' Exercise 4: Generate odd numbers ',
               2,
               'sec:basic:ex0',
               'sec:basic:ex0'),
              (' Exercise 5: Sum of first $n$ integers ',
               2,
               'sec:basic:sum:no',
               'sec:basic:sum:no'),
              (' Exercise 6: Generate equally spaced coordinates ',
               2,
               'sec:basic:ex44',
               'sec:basic:ex44'),
              (' Exercise 7: Make a table of values from a formula ',
               2,
               'sec:basic:ex4',
               'sec:basic:ex4'),
              (' Exercise 8: Store values from a formula in lists ',
               2,
               'sec:basic:ex4b',
               'sec:basic:ex4b'),
              (' Exercise 9: Simulate operations on lists by hand ',
               2,
               'sec:basic:ex43',
               'sec:basic:ex43'),
              (' Exercise 10: Compute a mathematical sum ',
               2,
               'sec:basic:ex29a',
               'sec:basic:ex29a'),
              (' Exercise 11: Replace a while loop by a for loop ',
               2,
               'sec:basic:ex29b',
               'sec:basic:ex29b'),
              (' Exercise 12: Simulate a program by hand ',
               2,
               'sec:basic:ex24a',
               'sec:basic:ex24a'),
              (' Exercise 13: Explore Python documentation ',
               2,
               'sec:basic:ex47',
               'sec:basic:ex47'),
              (' Exercise 14: Index a nested list ',
               2,
               'sec:basic:ex15n',
               'sec:basic:ex15n'),
              (' Exercise 15: Store data in lists ',
               2,
               'sec:basic:ex1b',
               'sec:basic:ex1b'),
              (' Exercise 16: Store data in a nested list ',
               2,
               'sec:basic:ex4c',
               'sec:basic:ex4c'),
              (' Exercise 17: Values of boolean expressions ',
               2,
               'sec:basic:ex15b',
               'sec:basic:ex15b'),
              (' Exercise 18: Explore round-off errors from a large number of inverse operations ',
               2,
               'sec:basic:ex14b',
               'sec:basic:ex14b'),
              (' Exercise 19: Explore what zero can be on a computer ',
               2,
               'sec:basic:ex14',
               'sec:basic:ex14'),
              (' Remarks ', 3, None, '___sec60'),
              (' Exercise 20: Compare two real numbers with a tolerance ',
               2,
               'sec:formula:ex14c',
               'sec:formula:ex14c'),
              (' Exercise 21: Interpret a code ',
               2,
               'sec:basic:ex16',
               'sec:basic:ex16'),
              (' Exercise 22: Explore problems with inaccurate indentation ',
               2,
               'sec:basic:ex3',
               'sec:basic:ex3'),
              (' Remarks ', 3, None, '___sec64'),
              (' Exercise 23: Explore punctuation in Python programs ',
               2,
               'sec:input:ex33',
               'sec:input:ex33'),
              (' Exercise 24: Investigate a for loop over a changing list ',
               2,
               'sec:basic:ex18',
               'sec:basic:ex18'),
              (' References ', 1, None, '___sec67')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- newcommands_keep.tex -->
$$
\newcommand{\tp}{\thinspace .}
$$




    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="looplist-readable.html">Loops and lists</a>
  </div>
  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._looplist-readable001.html#sec:basic:loops" style="font-size: 80%;">While loops</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable002.html#___sec5" style="font-size: 80%;">Lists</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable003.html#___sec10" style="font-size: 80%;">Alternative implementations with lists and loops</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable004.html#sec:basic:nestedlists" style="font-size: 80%;">Nested lists</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable005.html#sec:lists:tuples" style="font-size: 80%;">Tuples</a></li>
     <!-- navigation toc: --> <li><a href="#sec:looplist:summary" style="font-size: 80%;">Summary</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable007.html#___sec40" style="font-size: 80%;">Exercises</a></li>
     <!-- navigation toc: --> <li><a href="._looplist-readable007.html#___sec67" style="font-size: 80%;">References</a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0006"></a>
<!-- !split -->
<p style="font-size:80%">This chapter is taken from book <a href="http://www.springer.com/gp/book/9783642549588">A Primer on Scientific Programming with Python</a> by H. P. Langtangen, 4th edition, Springer, 2014.</p>

<h1 id="sec:looplist:summary">Summary</h1>

<h2 id="___sec27">Chapter topics </h2>

<h3 id="___sec28">While loops </h3>

<p>
Loops are used to repeat a collection of program statements several
times.
The statements that belong to the loop must be consistently
indented in Python.
A <code>while</code> loop runs as long as a condition evaluates to <code>True</code>:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> t <span style="color: #666666">=</span> <span style="color: #666666">0</span>; dt <span style="color: #666666">=</span> <span style="color: #666666">0.5</span>; T <span style="color: #666666">=</span> <span style="color: #666666">2</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">while</span> t <span style="color: #666666">&lt;=</span> T:
<span style="color: #666666">...</span>      <span style="color: #008000; font-weight: bold">print</span> t
<span style="color: #666666">...</span>      t <span style="color: #666666">+=</span> dt
<span style="color: #666666">...</span>
<span style="color: #666666">0</span>
<span style="color: #666666">0.5</span>
<span style="color: #666666">1.0</span>
<span style="color: #666666">1.5</span>
<span style="color: #666666">2.0</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;Final t:&#39;</span>, t, <span style="color: #BA2121">&#39;; t &lt;= T is&#39;</span>, t <span style="color: #666666">&lt;=</span> T
Final t: <span style="color: #666666">2.5</span> ; t <span style="color: #666666">&lt;=</span> T <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000">False</span>
</pre></div>

<h3 id="___sec29">Lists </h3>

<p>
A list is used to collect a number of values or variables in an
ordered sequence.

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> mylist <span style="color: #666666">=</span> [t, dt, T, <span style="color: #BA2121">&#39;mynumbers.dat&#39;</span>, <span style="color: #666666">100</span>]
</pre></div>
<p>
A list element can be any Python object, including numbers, strings,
functions, and other lists, for instance.

<p>
The table below
shows some important list operations
(only a subset of these are explained in the present document).

<p>

<div class="row">
  <div class="col-xs-11">
    <table class="table table-striped table-hover table-condensed">
<thead>
<tr><td align="center"><b>            Construction            </b></td> <td align="center"><b>                         Meaning                          </b></td> </tr>
</thead>
<tbody>
<tr><td align="left">   <code>a = [] </code>                    </td> <td align="left">   initialize an empty list                                      </td> </tr>
<tr><td align="left">   <code>a = [1, 4.4, 'run.py'] </code>    </td> <td align="left">   initialize a list                                             </td> </tr>
<tr><td align="left">   <code>a.append(elem)</code>             </td> <td align="left">   add <code>elem</code> object to the end                       </td> </tr>
<tr><td align="left">   <code>a + [1,3]</code>                  </td> <td align="left">   add two lists                                                 </td> </tr>
<tr><td align="left">   <code>a.insert(i, e)</code>             </td> <td align="left">   insert element <code>e</code> before index <code>i</code>     </td> </tr>
<tr><td align="left">   <code>a[3]</code>                       </td> <td align="left">   index a list element                                          </td> </tr>
<tr><td align="left">   <code>a[-1]</code>                      </td> <td align="left">   get last list element                                         </td> </tr>
<tr><td align="left">   <code>a[1:3]</code>                     </td> <td align="left">   slice: copy data to sublist (here: index 1, 2)                </td> </tr>
<tr><td align="left">   <code>del a[3]</code>                   </td> <td align="left">   delete an element (index <code>3</code>)                      </td> </tr>
<tr><td align="left">   <code>a.remove(e)</code>                </td> <td align="left">   remove an element with value <code>e</code>                   </td> </tr>
<tr><td align="left">   <code>a.index('run.py')</code>          </td> <td align="left">   find index corresponding to an element's value                </td> </tr>
<tr><td align="left">   <code>'run.py' in a</code>              </td> <td align="left">   test if a value is contained in the list                      </td> </tr>
<tr><td align="left">   <code>a.count(v)</code>                 </td> <td align="left">   count how many elements that have the value <code>v</code>    </td> </tr>
<tr><td align="left">   <code>len(a)</code>                     </td> <td align="left">   number of elements in list <code>a</code>                     </td> </tr>
<tr><td align="left">   <code>min(a)</code>                     </td> <td align="left">   the smallest element in <code>a</code>                        </td> </tr>
<tr><td align="left">   <code>max(a)</code>                     </td> <td align="left">   the largest element in <code>a</code>                         </td> </tr>
<tr><td align="left">   <code>sum(a)</code>                     </td> <td align="left">   add all elements in <code>a</code>                            </td> </tr>
<tr><td align="left">   <code>sorted(a)</code>                  </td> <td align="left">   return sorted version of list <code>a</code>                  </td> </tr>
<tr><td align="left">   <code>reversed(a)</code>                </td> <td align="left">   return reversed sorted version of list <code>a</code>         </td> </tr>
<tr><td align="left">   <code>b[3][0][2]</code>                 </td> <td align="left">   nested list indexing                                          </td> </tr>
<tr><td align="left">   <code>isinstance(a, list)</code>        </td> <td align="left">   is <code>True</code> if <code>a</code> is a list              </td> </tr>
<tr><td align="left">   <code>type(a) is list</code>            </td> <td align="left">   is <code>True</code> if <code>a</code> is a list              </td> </tr>
</tbody>
    </table>
  </div>
</div> <!-- col-xs-11 -->

<h3 id="___sec30">Nested lists </h3>

<p>
If the list elements are also lists, we have a
nested list. The following session summarizes indexing and loop
traversal of nested lists:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> nl <span style="color: #666666">=</span> [[<span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>], [<span style="color: #666666">-1</span>, <span style="color: #666666">-1</span>, <span style="color: #666666">2</span>], [<span style="color: #666666">-10</span>, <span style="color: #666666">10</span>, <span style="color: #666666">5</span>]]
<span style="color: #666666">&gt;&gt;&gt;</span> nl[<span style="color: #666666">0</span>]
[<span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>]
<span style="color: #666666">&gt;&gt;&gt;</span> nl[<span style="color: #666666">-1</span>]
[<span style="color: #666666">-10</span>, <span style="color: #666666">10</span>, <span style="color: #666666">5</span>]
<span style="color: #666666">&gt;&gt;&gt;</span> nl[<span style="color: #666666">0</span>][<span style="color: #666666">2</span>]
<span style="color: #666666">1</span>
<span style="color: #666666">&gt;&gt;&gt;</span> nl[<span style="color: #666666">-1</span>][<span style="color: #666666">0</span>]
<span style="color: #666666">-10</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">for</span> p <span style="color: #AA22FF; font-weight: bold">in</span> nl:
<span style="color: #666666">...</span>     <span style="color: #008000; font-weight: bold">print</span> p
<span style="color: #666666">...</span>
[<span style="color: #666666">0</span>, <span style="color: #666666">0</span>, <span style="color: #666666">1</span>]
[<span style="color: #666666">-1</span>, <span style="color: #666666">-1</span>, <span style="color: #666666">2</span>]
[<span style="color: #666666">-10</span>, <span style="color: #666666">10</span>, <span style="color: #666666">5</span>]
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">for</span> a, b, c <span style="color: #AA22FF; font-weight: bold">in</span> nl:
<span style="color: #666666">...</span>     <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%3d</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%3d</span><span style="color: #BA2121"> </span><span style="color: #BB6688; font-weight: bold">%3d</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (a, b, c)
<span style="color: #666666">...</span>
  <span style="color: #666666">0</span>   <span style="color: #666666">0</span>   <span style="color: #666666">1</span>
 <span style="color: #666666">-1</span>  <span style="color: #666666">-1</span>   <span style="color: #666666">2</span>
<span style="color: #666666">-10</span>  <span style="color: #666666">10</span>   <span style="color: #666666">5</span>
</pre></div>

<h3 id="___sec31">Tuples </h3>

<p>
A tuple can be viewed as a constant list: no changes in the
contents of the tuple is allowed.
Tuples employ standard parentheses or no parentheses, and elements
are separated with comma as in lists:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> mytuple <span style="color: #666666">=</span> (t, dt, T, <span style="color: #BA2121">&#39;mynumbers.dat&#39;</span>, <span style="color: #666666">100</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> mytuple <span style="color: #666666">=</span>  t, dt, T, <span style="color: #BA2121">&#39;mynumbers.dat&#39;</span>, <span style="color: #666666">100</span>
</pre></div>
<p>
Many list operations are also valid for tuples, but those
that changes the list content cannot be used with tuples
(examples are
<code>append</code>, <code>del</code>, <code>remove</code>, <code>index</code>, and <code>sort</code>).

<p>
An object <code>a</code> containing an ordered collection of other objects such
that <code>a[i]</code> refers to object with index <code>i</code> in the collection,
is known as a
<em>sequence</em> in Python.
Lists, tuples, strings, and arrays
are examples on sequences.
You choose a sequence type when there is a natural ordering
of elements. For a collection of unordered objects
a <em>dictionary</em>
is often more convenient.

<h3 id="___sec32">For loops </h3>

<p>
A <code>for</code> loop is used to run through the elements of a list
or a tuple:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">for</span> elem <span style="color: #AA22FF; font-weight: bold">in</span> [<span style="color: #666666">10</span>, <span style="color: #666666">20</span>, <span style="color: #666666">25</span>, <span style="color: #666666">27</span>, <span style="color: #666666">28.5</span>]:
<span style="color: #666666">...</span>     <span style="color: #008000; font-weight: bold">print</span> elem,
<span style="color: #666666">...</span>
<span style="color: #666666">10</span> <span style="color: #666666">20</span> <span style="color: #666666">25</span> <span style="color: #666666">27</span> <span style="color: #666666">28.5</span>
</pre></div>
<p>
The trailing comma after the <code>print</code> statement prevents the newline
character, which otherwise <code>print</code> would automatically add.

<p>
The <code>range</code> function is frequently used in <code>for</code> loops over
a sequence of integers. Recall that <code>range(start, stop, inc)</code>
does not include the upper limit <code>stop</code> among the list item.

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">for</span> elem <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">1</span>, <span style="color: #666666">5</span>, <span style="color: #666666">2</span>):
<span style="color: #666666">...</span>     <span style="color: #008000; font-weight: bold">print</span> elem,
<span style="color: #666666">...</span>
<span style="color: #666666">1</span> <span style="color: #666666">3</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000">range</span>(<span style="color: #666666">1</span>, <span style="color: #666666">5</span>, <span style="color: #666666">2</span>)
[<span style="color: #666666">1</span>, <span style="color: #666666">3</span>]
</pre></div>
<p>
Implementation of a sum \( \sum_{j=M}^N q(j) \), where \( q(j) \) is some
mathematical expression involving the integer counter \( j \), is
normally implemented using a <code>for</code> loop. Choosing, e.g., \( q(j) = 1/j^{2} \),
the sum is calculated by

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">s <span style="color: #666666">=</span> <span style="color: #666666">0</span>  <span style="color: #408080; font-style: italic"># accumulation variable</span>
<span style="color: #008000; font-weight: bold">for</span> j <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(M, N<span style="color: #666666">+1</span>, <span style="color: #666666">1</span>):
    s <span style="color: #666666">+=</span> <span style="color: #666666">1./</span>j<span style="color: #666666">**2</span>
</pre></div>

<h3 id="___sec33">Pretty print </h3>

<p>
To print a list <code>a</code>, <code>print a</code> can be used, but the
<code>pprint</code> and <code>scitools.pprint2</code> modules and their
<code>pprint</code> function give a nicer layout
of the output for long and nested lists. The <code>scitools.pprint2</code> module
has the possibility to control the formatting of floating-point
numbers.

<h3 id="___sec34">Terminology </h3>

<p>
The important computer science terms in this document are

<ul>
  <li> list</li>
  <li> tuple</li>
  <li> nested list (and nested tuple)</li>
  <li> sublist (subtuple) or slice <code>a[i:j]</code></li>
  <li> <code>while</code> loop</li>
  <li> <code>for</code> loop</li>
  <li> list comprehension</li>
  <li> boolean expression</li>
</ul>

<h2 id="sec:looplist:summary:ex">Example: Analyzing list data</h2>

<h3 id="___sec36">Problem </h3>

<p>
The file <a href="http://tinyurl.com/pwyasaa/misc/Oxford_sun_hours.txt" target="_self"><tt>src/misc/Oxford_sun_hours.txt</tt></a> contains data
of the number of sun hours in Oxford, UK, for every month since
January 1929. The data are already on a suitable nested list format:

<p>

<!-- code=text (!bc dat) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">[
[43.8, 60.5, 190.2, ...],
[49.9, 54.3, 109.7, ...],
[63.7, 72.0, 142.3, ...],
...
]
</pre></div>
<p>
The list in every line holds the number of sun
hours for each of the year's 12 months.
That is, the first index in the nested list corresponds to year and the
second index corresponds to the month number. More precisely,
the double index <code>[i][j]</code> corresponds to year 1929 + <code>i</code>
and month 1 + <code>j</code> (January being month number 1).

<p>
The task is to define this nested list in a program and do the following
data analysis.

<ul>
  <li> Compute the average number of sun hours for each month during the total data period (1929-2009).</li>
  <li> Which month has the best weather according to the means found in the preceding task?</li>
  <li> For each decade, 1930-1939, 1940-1949, \( \ldots \), 2000-2009, compute the average number of sun hours per day in January and December. For example, use December 1949, January 1950, \( \ldots \), December 1958, and January 1959 as data for the decade 1950-1959. Are there any noticeable differences between the decades?</li>
</ul>

<h3 id="___sec37">Solution </h3>

<p>
Initializing the data is easy: just copy the data from the
<code>Oxford_sun_hours.txt</code> file into the program file and
set a variable name on the left hand side (the long and wide code
is only indicated here):

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">data <span style="color: #666666">=</span> [
[<span style="color: #666666">43.8</span>, <span style="color: #666666">60.5</span>, <span style="color: #666666">190.2</span>, <span style="color: #666666">...</span>],
[<span style="color: #666666">49.9</span>, <span style="color: #666666">54.3</span>, <span style="color: #666666">109.7</span>, <span style="color: #666666">...</span>],
[<span style="color: #666666">63.7</span>, <span style="color: #666666">72.0</span>, <span style="color: #666666">142.3</span>, <span style="color: #666666">...</span>],
<span style="color: #666666">...</span>
]
</pre></div>
<p>
For task 1, we need to establish a list <code>monthly_mean</code>
with the results from the
computation, i.e., <code>monthly_mean[2]</code> holds the average
number of sun hours for March in the period 1929-2009.
The average is computed in the standard way: for each month,
we run through all
the years, sum up the values, and finally divide by the number
of years (\( 2009-1929+1 \)).

<p>
When looping over years and months it is convenient to have
loop variables running over the true years (1929 to 2009) and
the standard month number (1 to 12). These variables must be
correctly translated to indices in the <code>data</code> list such that
all indices start at 0. The following code produces the answers
to task 1:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">monthly_mean <span style="color: #666666">=</span> [<span style="color: #666666">0</span>]<span style="color: #666666">*12</span>      <span style="color: #408080; font-style: italic"># list with 12 elements</span>
<span style="color: #008000; font-weight: bold">for</span> month <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">1</span>, <span style="color: #666666">13</span>):
    m <span style="color: #666666">=</span> month <span style="color: #666666">-</span> <span style="color: #666666">1</span>   <span style="color: #408080; font-style: italic"># corresponding list index (starts at 0)</span>
    s <span style="color: #666666">=</span> <span style="color: #666666">0</span>           <span style="color: #408080; font-style: italic"># sum</span>
    n <span style="color: #666666">=</span> <span style="color: #666666">2009</span> <span style="color: #666666">-</span> <span style="color: #666666">1929</span> <span style="color: #666666">+</span> <span style="color: #666666">1</span>  <span style="color: #408080; font-style: italic"># no of years</span>
    <span style="color: #008000; font-weight: bold">for</span> year <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">1929</span>, <span style="color: #666666">2010</span>):
        y <span style="color: #666666">=</span> year <span style="color: #666666">-</span> <span style="color: #666666">1929</span>  <span style="color: #408080; font-style: italic"># corresponding list index (starts at 0)</span>
        s <span style="color: #666666">+=</span> data[y][m]
    monthly_mean[m] <span style="color: #666666">=</span> s<span style="color: #666666">/</span>n
</pre></div>
<p>
An alternative solution would be to introduce separate variables for
the monthly averages, say <code>Jan_mean</code>, <code>Feb_mean</code>, etc.
The reader should as an exercise write the code associated with
such a solution and realize that using the <code>monthly_mean</code>
list is more elegant and yields much simpler and shorter code.
Separate variables might be an okay solution for 2-3 variables, but
as many as 12.

<p>
Perhaps we want a nice-looking printout of the results.
This can elegantly be created by first defining a tuple (or list) of
the names of the months and then running through this list in parallel
with <code>monthly_mean</code>:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">month_names <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;Jan&#39;</span>, <span style="color: #BA2121">&#39;Feb&#39;</span>, <span style="color: #BA2121">&#39;Mar&#39;</span>, <span style="color: #BA2121">&#39;Apr&#39;</span>, <span style="color: #BA2121">&#39;May&#39;</span>, <span style="color: #BA2121">&#39;Jun&#39;</span>,\ 
              <span style="color: #BA2121">&#39;Jul&#39;</span>, <span style="color: #BA2121">&#39;Aug&#39;</span>, <span style="color: #BA2121">&#39;Sep&#39;</span>, <span style="color: #BA2121">&#39;Oct&#39;</span>, <span style="color: #BA2121">&#39;Nov&#39;</span>, <span style="color: #BA2121">&#39;Dec&#39;</span>
<span style="color: #008000; font-weight: bold">for</span> name, value <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">zip</span>(month_names, monthly_mean):
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">: </span><span style="color: #BB6688; font-weight: bold">%.1f</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> (name, value)
</pre></div>
<p>
The printout becomes

<p>

<!-- code=text (!bc ccq) typeset with pygments style "default" -->
<blockquote>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Jan: 55.9
Feb: 71.8
Mar: 115.1
Apr: 151.3
May: 188.7
Jun: 196.1
Jul: 191.4
Aug: 182.1
Sep: 136.7
Oct: 103.4
Nov: 66.6
Dec: 51.7
</pre></div>
</blockquote><p>
Task 2 can be solved by pure inspection of the above printout, which reveals
that June is the winner. However, since we are learning programming, we
should be able to replace our eyes with some computer code to automate
the task. The maximum value <code>max_value</code>
of a list like <code>monthly_mean</code> is
simply obtained by <code>max(monthly_mean)</code>.
The corresponding index, needed to find the right name of the corresponding
month, is found from <code>monthly_mean.index(max_value)</code>.
The code for task 2 is then

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">max_value <span style="color: #666666">=</span> <span style="color: #008000">max</span>(monthly_mean)
month <span style="color: #666666">=</span> month_names[monthly_mean<span style="color: #666666">.</span>index(max_value)]
<span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;</span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121"> has best weather with </span><span style="color: #BB6688; font-weight: bold">%.1f</span><span style="color: #BA2121"> sun hours on average&#39;</span> <span style="color: #666666">%</span> \ 
      (month, max_value)
</pre></div>
<p>
Task 3 requires us to first develop an algorithm for how to compute
the decade averages. The algorithm, expressed with words, goes as
follows. We loop over the decades, and for each decade,
we loop over its years, and for each year, we add the December data of
the previous year and the January data of the current year to
an accumulation variable. Dividing this accumulation variable by
\( 10\cdot 2\cdot 30 \) gives the average number of sun hours per day
in the winter time for the particular decade.
The code segment below expresses this algorithm in the Python language:

<p>

<!-- code=python (!bc pycod) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">decade_mean <span style="color: #666666">=</span> []
<span style="color: #008000; font-weight: bold">for</span> decade_start <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">1930</span>, <span style="color: #666666">2010</span>, <span style="color: #666666">10</span>):
    Jan_index <span style="color: #666666">=</span> <span style="color: #666666">0</span>; Dec_index <span style="color: #666666">=</span> <span style="color: #666666">11</span>  <span style="color: #408080; font-style: italic"># indices</span>
    s <span style="color: #666666">=</span> <span style="color: #666666">0</span>
    <span style="color: #008000; font-weight: bold">for</span> year <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(decade_start, decade_start<span style="color: #666666">+10</span>):
        y <span style="color: #666666">=</span> year <span style="color: #666666">-</span> <span style="color: #666666">1929</span>  <span style="color: #408080; font-style: italic"># list index</span>
        <span style="color: #008000; font-weight: bold">print</span> data[y<span style="color: #666666">-1</span>][Dec_index] <span style="color: #666666">+</span> data[y][Jan_index]
        s <span style="color: #666666">+=</span> data[y<span style="color: #666666">-1</span>][Dec_index] <span style="color: #666666">+</span> data[y][Jan_index]
    decade_mean<span style="color: #666666">.</span>append(s<span style="color: #666666">/</span>(<span style="color: #666666">20.*30</span>))
<span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #008000">len</span>(decade_mean)):
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;Decade </span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">-</span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">: </span><span style="color: #BB6688; font-weight: bold">%.1f</span><span style="color: #BA2121">&#39;</span> <span style="color: #666666">%</span> \ 
          (<span style="color: #666666">1930+</span>i<span style="color: #666666">*10</span>, <span style="color: #666666">1939+</span>i<span style="color: #666666">*10</span>, decade_mean[i])
</pre></div>
<p>
The output becomes

<p>

<!-- code=text (!bc ccq) typeset with pygments style "default" -->
<blockquote>
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Decade 1930-1939: 1.7
Decade 1940-1949: 1.8
Decade 1950-1959: 1.8
Decade 1960-1969: 1.8
Decade 1970-1979: 1.6
Decade 1980-1989: 2.0
Decade 1990-1999: 1.8
Decade 2000-2009: 2.1
</pre></div>
</blockquote><p>
The complete code is found in the file
<a href="http://tinyurl.com/pwyasaa/looplist/sun_data.py" target="_self"><tt>sun_data.py</tt></a>.

<h3 id="___sec38">Remark </h3>

<p>
The file <code>Oxford_sun_hours.txt</code> is based on data from
the <a href="http://www.metoffice.gov.uk/climate/uk/stationdata/" target="_self">UK Met Office</a>.

<h2 id="sec:basic:pyinfo">How to find more Python information</h2>

<p>
This document contains only fragments of the Python language.  When
doing your own projects or exercises you will certainly feel the need
for looking up more detailed information on modules, objects, etc.
Fortunately, there is a lot of excellent documentation on the Python
programming language.

<p>
The primary reference is the <a href="http://docs.python.org/index.html" target="_self">official Python documentation website</a>: <code>docs.python.org</code>. Here you can
find a Python tutorial, the very useful <em>Library Reference</em>
<a href="._looplist-readable007.html#Python:Library:Reference">[1]</a>, and a <em>Language Reference</em>, to mention
some key documents.  When you wonder what functions you can find in a
module, say the <code>math</code> module, you can go to the Library Reference
search for <em>math</em>, which quickly leads you to the official
documentation of the <code>math</code> module. Alternatively, you can go to the
index of this document and pick the <code>math (module)</code> item directly.
Similarly, if you want to look up more details of the printf
formatting syntax, go to the index and follow the <em>printf-style
formatting</em> index.

<p>
<div class="alert alert-block alert-danger alert-text-normal"><b>Warning.</b>
A word of caution is probably necessary here. Reference manuals are
very technical and written primarily for experts, so it can be quite
difficult for a newbie to understand the information.  An important
ability is to browse such manuals and dig out the key information you
are looking for, without being annoyed by all the text you do not
understand. As with programming, reading manuals efficiently requires
a lot of training.
</div>


<p>
A tool somewhat similar to the Python Standard Library documentation is the
<code>pydoc</code> program. In a terminal window you write

<p>

<!-- code=text (!bc sys) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%">Terminal&gt; pydoc math
</pre></div>
<p>
In IPython there are two corresponding possibilities, either

<p>

<!-- code=ipy (!bc ipy) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #000080; font-weight: bold">In [1]: </span><span style="color: #666666">!</span>pydoc math
</pre></div>
<p>
or

<p>

<!-- code=ipy (!bc ipy) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span style="color: #000080; font-weight: bold">In [2]: </span><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">math</span>
<span style="color: #000080; font-weight: bold">In [3]: </span>help(math)
</pre></div>
<p>
The documentation of the complete <code>math</code> module is shown as plain text.
If a specific function is wanted, we can ask for that directly,
e.g., <code>pydoc math.tan</code>.
Since <code>pydoc</code> is very fast, many prefer <code>pydoc</code> over
web pages, but <code>pydoc</code> has often less information compared to
the web documentation of modules.

<p>
There are also a large number of books about Python.  Beazley
<a href="._looplist-readable007.html#Beazley">[2]</a> is an excellent reference that improves and extends the
information in the web documentation. The <em>Learning Python</em> book
<a href="._looplist-readable007.html#LearningPython">[3]</a> has been very popular for many years as an
introduction to the language.  There is a special <a href="http://wiki.python.org/moin/PythonBooks" target="_self">web page</a> listing most Python books on
the market. Very few books target scientific computing with Python,
but <a href="._looplist-readable007.html#Fuhrer_et_al_2014">[4]</a> gives an introduction to Python for
mathematical applications and is more compact and advanced than the
present book. It also serves as an excellent reference for the
capabilities of Python in a scientific context.  A comprehensive book
on the use of Python for assisting and automating scientific work is
<a href="._looplist-readable007.html#TCSE3">[5]</a>.

<p>
Quick references, which list almost to all Python functionality in
compact tabular form, are very handy. We recommend in particular the
one by <a href="http://rgruet.free.fr/PQR27/PQR2.7.html" target="_self">Richard Gruet</a>
<a href="._looplist-readable007.html#Python:Quick:Ref">[6]</a>.

<p>
The website <a href="http://www.python.org/doc/" target="_self"><tt>http://www.python.org/doc/</tt></a> contains a list of useful Python
introductions and reference manuals.

<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._looplist-readable005.html">&larr; Prev</a>
  </li>
  <li class="next">
    <a href="._looplist-readable007.html">Next &rarr;</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

