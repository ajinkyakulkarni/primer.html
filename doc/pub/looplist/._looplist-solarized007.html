<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Loops and lists">
<meta name="keywords" content="loops,boolean expressions,logical expressions,factorial,lists,method (class),list comprehension,list, nested,nested lists,list comprehension,pretty print,sublist,slicing,nested loops,tuples,list functionality,sequence (data type),sum ($\Sigma$) implementation,comparing floating-point numbers,comparing real numbers,comparing objects">

<title>Loops and lists</title>


<link href="https://raw.githubusercontent.com/hplgit/doconce/master/bundled/html_styles/style_solarized_box/css/solarized_light_code.css" rel="stylesheet" type="text/css" title="light"/>
<script src="https://rawgit.com/hplgit/doconce/master/bundled/html_styles/style_solarized_box/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<link href="http://thomasf.github.io/solarized-css/solarized-light.min.css" rel="stylesheet">
<style type="text/css">
h1 {color: #b58900;}  /* yellow */
/* h1 {color: #cb4b16;}  orange */
/* h1 {color: #d33682;}  magenta, the original choice of thomasf */
.alert-text-small   { font-size: 80%;  }
.alert-text-large   { font-size: 130%; }
.alert-text-normal  { font-size: 90%;  }
.alert {
  padding:8px 35px 8px 14px; margin-bottom:18px;
  text-shadow:0 1px 0 rgba(255,255,255,0.5);
  border:1px solid #93a1a1;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  color: #555;
  background-color: #eee8d5;
  background-position: 10px 5px;
  background-repeat: no-repeat;
  background-size: 38px;
  padding-left: 55px;
  width: 75%;
 }
.alert-block {padding-top:14px; padding-bottom:14px}
.alert-block > p, .alert-block > ul {margin-bottom:1em}
.alert li {margin-top: 1em}
.alert-block p+p {margin-top:5px}
.alert-notice { background-image: url(https://raw.github.com/hplgit/doconce/master/bundled/html_images/small_yellow_notice.png); }
.alert-summary  { background-image:url(https://raw.github.com/hplgit/doconce/master/bundled/html_images/small_yellow_summary.png); }
.alert-warning { background-image: url(https://raw.github.com/hplgit/doconce/master/bundled/html_images/small_yellow_warning.png); }
.alert-question {background-image:url(https://raw.github.com/hplgit/doconce/master/bundled/html_images/small_yellow_question.png); }

div { text-align: justify; text-justify: inter-word; }
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [(' While loops ', 1, 'sec:basic:loops', 'sec:basic:loops'),
              (' A naive solution ', 2, 'sec:basic:naive', 'sec:basic:naive'),
              (' While loops ', 2, 'sec:basic:while', 'sec:basic:while'),
              (' Boolean expressions ',
               2,
               'sec:basic:boolexpr',
               'sec:basic:boolexpr'),
              (' Loop implementation of a sum ',
               2,
               'sec:basic:sumloop',
               'sec:basic:sumloop'),
              (' Lists ', 1, None, '___sec5'),
              (' Basic list operations ',
               2,
               'sec:lists:basc:op',
               'sec:lists:basc:op'),
              (' For loops ', 2, None, '___sec7'),
              (' The nature of for loops ', 3, None, '___sec8'),
              (' Making the table ', 3, None, '___sec9'),
              (' Alternative implementations with lists and loops ',
               1,
               None,
               '___sec10'),
              (' While loop implementation of a for loop ',
               2,
               None,
               '___sec11'),
              (' The range construction ', 2, None, '___sec12'),
              (' For loops with list indices ', 2, None, '___sec13'),
              (' Changing list elements ', 2, None, '___sec14'),
              (' List comprehension ',
               2,
               'sec:basic:list:comprehension',
               'sec:basic:list:comprehension'),
              (' Traversing multiple lists simultaneously ',
               2,
               None,
               '___sec16'),
              (' Nested lists ',
               1,
               'sec:basic:nestedlists',
               'sec:basic:nestedlists'),
              (' A table as a list of rows or columns ', 2, None, '___sec18'),
              (' Printing objects ', 2, None, '___sec19'),
              (' Modules for pretty print of objects ', 3, None, '___sec20'),
              (' Manual printing ', 3, None, '___sec21'),
              (' Extracting sublists ',
               2,
               'sec:basic:slice',
               'sec:basic:slice'),
              (' Example ', 3, None, '___sec23'),
              (' Traversing nested lists ', 2, None, '___sec24'),
              (' Tuples ', 1, 'sec:lists:tuples', 'sec:lists:tuples'),
              (' Summary ',
               1,
               'sec:looplist:summary',
               'sec:looplist:summary'),
              (' Chapter topics ', 2, None, '___sec27'),
              (' While loops ', 3, None, '___sec28'),
              (' Lists ', 3, None, '___sec29'),
              (' Nested lists ', 3, None, '___sec30'),
              (' Tuples ', 3, None, '___sec31'),
              (' For loops ', 3, None, '___sec32'),
              (' Pretty print ', 3, None, '___sec33'),
              (' Terminology ', 3, None, '___sec34'),
              (' Example: Analyzing list data ',
               2,
               'sec:looplist:summary:ex',
               'sec:looplist:summary:ex'),
              (' Problem ', 3, None, '___sec36'),
              (' Solution ', 3, None, '___sec37'),
              (' Remark ', 3, None, '___sec38'),
              (' How to find more Python information ',
               2,
               'sec:basic:pyinfo',
               'sec:basic:pyinfo'),
              (' Exercises ', 1, None, '___sec40'),
              (' Exercise 1: Make a Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex41',
               'sec:basic:ex41'),
              (' Exercise 2: Generate an approximate Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex1',
               'sec:basic:ex1'),
              (' Exercise 3: Work with a list ',
               2,
               'sec:basic:ex00',
               'sec:basic:ex00'),
              (' Exercise 4: Generate odd numbers ',
               2,
               'sec:basic:ex0',
               'sec:basic:ex0'),
              (' Exercise 5: Sum of first $n$ integers ',
               2,
               'sec:basic:sum:no',
               'sec:basic:sum:no'),
              (' Exercise 6: Generate equally spaced coordinates ',
               2,
               'sec:basic:ex44',
               'sec:basic:ex44'),
              (' Exercise 7: Make a table of values from a formula ',
               2,
               'sec:basic:ex4',
               'sec:basic:ex4'),
              (' Exercise 8: Store values from a formula in lists ',
               2,
               'sec:basic:ex4b',
               'sec:basic:ex4b'),
              (' Exercise 9: Simulate operations on lists by hand ',
               2,
               'sec:basic:ex43',
               'sec:basic:ex43'),
              (' Exercise 10: Compute a mathematical sum ',
               2,
               'sec:basic:ex29a',
               'sec:basic:ex29a'),
              (' Exercise 11: Replace a while loop by a for loop ',
               2,
               'sec:basic:ex29b',
               'sec:basic:ex29b'),
              (' Exercise 12: Simulate a program by hand ',
               2,
               'sec:basic:ex24a',
               'sec:basic:ex24a'),
              (' Exercise 13: Explore Python documentation ',
               2,
               'sec:basic:ex47',
               'sec:basic:ex47'),
              (' Exercise 14: Index a nested list ',
               2,
               'sec:basic:ex15n',
               'sec:basic:ex15n'),
              (' Exercise 15: Store data in lists ',
               2,
               'sec:basic:ex1b',
               'sec:basic:ex1b'),
              (' Exercise 16: Store data in a nested list ',
               2,
               'sec:basic:ex4c',
               'sec:basic:ex4c'),
              (' Exercise 17: Values of boolean expressions ',
               2,
               'sec:basic:ex15b',
               'sec:basic:ex15b'),
              (' Exercise 18: Explore round-off errors from a large number of inverse operations ',
               2,
               'sec:basic:ex14b',
               'sec:basic:ex14b'),
              (' Exercise 19: Explore what zero can be on a computer ',
               2,
               'sec:basic:ex14',
               'sec:basic:ex14'),
              (' Remarks ', 3, None, '___sec60'),
              (' Exercise 20: Compare two real numbers with a tolerance ',
               2,
               'sec:formula:ex14c',
               'sec:formula:ex14c'),
              (' Exercise 21: Interpret a code ',
               2,
               'sec:basic:ex16',
               'sec:basic:ex16'),
              (' Exercise 22: Explore problems with inaccurate indentation ',
               2,
               'sec:basic:ex3',
               'sec:basic:ex3'),
              (' Remarks ', 3, None, '___sec64'),
              (' Exercise 23: Explore punctuation in Python programs ',
               2,
               'sec:input:ex33',
               'sec:input:ex33'),
              (' Exercise 24: Investigate a for loop over a changing list ',
               2,
               'sec:basic:ex18',
               'sec:basic:ex18'),
              (' References ', 1, None, '___sec67')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- newcommands_keep.tex -->
$$
\newcommand{\tp}{\thinspace .}
$$




    
<a name="part0007"></a>
<p>
<!-- begin top navigation -->
<table style="width: 100%"><tr><td>
<div style="text-align: left;"><a href="._looplist-solarized006.html">&laquo; Previous</a></div>
</td><td>
</td></tr></table>
<!-- end top navigation -->
</p>

<p>
<!-- !split -->

<h1>Exercises  <a name="___sec40"></a></h1>

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 1: Make a Fahrenheit-Celsius conversion table <a name="sec:basic:ex41"></a></h2>

<p>
Write a Python program that prints out a table with Fahrenheit degrees \( 0,
10, 20, \ldots, 100 \) in the first column and the corresponding Celsius
degrees in the second column.

<p>
<!-- --- begin hint in exercise --- -->

<p>
<b>Hint.</b>
Modify the <code>c2f_table_while.py</code> program from the section <a href="._looplist-solarized001.html#sec:basic:while">While loops</a>.

<p>
<!-- --- end hint in exercise --- -->
Filename: <code>f2c_table_while.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 2: Generate an approximate Fahrenheit-Celsius conversion table <a name="sec:basic:ex1"></a></h2>

<p>
Many people use an approximate formula for quickly converting Fahrenheit
(\( F \)) to
Celsius (\( C \)) degrees:

$$
\begin{equation}
C \approx \hat C = (F-30)/2
\tag{2}
\end{equation}
$$

Modify the program from <a href="#sec:basic:ex41">Exercise 1: Make a Fahrenheit-Celsius conversion table</a> so that
it prints three columns: \( F \), \( C \), and the approximate value \( \hat C \).
Filename: <code>f2c_approx_table.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 3: Work with a list <a name="sec:basic:ex00"></a></h2>

<p>
Set a variable <code>primes</code> to a list containing the numbers
2, 3, 5, 7, 11, and 13.
Write out each list element in a <code>for</code> loop.
Assign 17 to a variable <code>p</code> and add <code>p</code> to the end of the list.
Print out the entire new list.
Filename: <code>primes.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 4: Generate odd numbers <a name="sec:basic:ex0"></a></h2>

<p>
Write a program that generates all odd numbers from 1 to <code>n</code>.
Set <code>n</code> in the beginning of the program and use a <code>while</code> loop
to compute the numbers. (Make sure that if <code>n</code> is an even number,
the largest generated odd number is <code>n-1</code>.)
Filename: <code>odd.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 5: Sum of first \( n \) integers <a name="sec:basic:sum:no"></a></h2>

<p>
Write a program that computes the sum of the integers from 1 up to
and including \( n \). Compare the result with the famous formula
\( n(n+1)/2 \).
Filename: <code>sum_int.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 6: Generate equally spaced coordinates <a name="sec:basic:ex44"></a></h2>

<p>
We want to generate \( n+1 \) equally spaced \( x \) coordinates in \( [a,b] \).
Store the coordinates in a list.

<p>
<b>a)</b>
Start with an empty list, use a <code>for</code> loop and append each
coordinate to the list.

<p>
<!-- --- begin hint in exercise --- -->

<p>
<b>Hint.</b>
With \( n \) intervals, corresponding to \( n+1 \) points, in \( [a,b] \), each
interval has length \( h=(b-a)/n \). The coordinates can then
be generated by the formula \( x_i=a+ih \), \( i=0,\ldots,n+1 \).

<p>
<!-- --- end hint in exercise --- -->

<p>
<b>b)</b>
Use a list comprehension (see the section <a href="._looplist-solarized003.html#sec:basic:list:comprehension">List comprehension</a>).

<p>
Filename: <code>coor.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 7: Make a table of values from a formula <a name="sec:basic:ex4"></a></h2>

<p>
The purpose of this exercise is to write code that prints a nicely formatted
table of \( t \) and \( y(t) \) values, where

$$
\begin{equation*} y(t) = v_0t - \frac{1}{2}gt^2\tp\end{equation*}
$$

Use \( n+1 \) uniformly spaced \( t \) values throughout the interval \( [0, 2v_0/g] \).

<p>
<b>a)</b>
Use a <code>for</code> loop to produce the table.

<p>
<b>b)</b>
Add code with a <code>while</code> loop to produce the table.

<p>
<!-- --- begin hint in exercise --- -->

<p>
<b>Hint.</b>
Because of potential round-off errors,
you may need to adjust the upper limit of the <code>while</code> loop to
ensure that the last point (\( t=2v_0/g \), \( y=0 \)) is included.

<p>
<!-- --- end hint in exercise --- -->

<p>
Filename: <code>ball_table1.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 8: Store values from a formula in lists <a name="sec:basic:ex4b"></a></h2>

<p>
This exercise aims to produce the same table of numbers as in <a href="#sec:basic:ex4">Exercise 7: Make a table of values from a formula</a>, but with different code.  First, store the \( t \) and
\( y \) values in two lists <code>t</code> and <code>y</code>.  Thereafter, write out a nicely
formatted table by traversing the two lists with a <code>for</code> loop.

<p>
<!-- --- begin hint in exercise --- -->

<p>
<b>Hint.</b>
In the <code>for</code> loop,
use either <code>zip</code> to traverse the two lists in parallel, or use
an index and the <code>range</code> construction.

<p>
<!-- --- end hint in exercise --- -->
Filename: <code>ball_table2.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 9: Simulate operations on lists by hand <a name="sec:basic:ex43"></a></h2>

<p>
You are given the following program:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>a = [1, 3, 5, 7, 11]
b = [13, 17]
c = a + b
print c
b[0] = -1
d = [e+1 for e in a]
print d
d.append(b[0] + 1)
d.append(b[-1] + 1)
print d[-2:]
for e1 in a:
    for e2 in b:
        print e1 + e2
</code></pre>
<!-- end verbatim block -->
Go through each statement and explain what is printed by the program.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 10: Compute a mathematical sum <a name="sec:basic:ex29a"></a></h2>

<p>
The following code is supposed to compute the sum
\( s = \sum_{k=1}^M {1\over k} \):

<p>
<!-- begin verbatim block  pypro-->
<pre><code>s = 0;  k = 1;  M = 100
while k &lt; M:
    s += 1/k
print s
</code></pre>
<!-- end verbatim block -->
This program does not work correctly. What are the three errors?
(If you try to run the program, nothing will happen on the screen.
Type <code>Ctrl+c</code>, i.e., hold down the Control (<code>Ctrl</code>)
key and then type the <code>c</code> key, to stop the program.)
Write a correct program.

<p>
<!-- --- begin hint in exercise --- -->

<p>
<b>Hint.</b>
There are two basic ways to find errors in a program:

<ol>
<li> read the program carefully and think about the consequences
   of each statement,</li>
<li> print out intermediate results and compare with
   hand calculations.</li>
</ol>

First, try method 1 and find as many errors as you can. Thereafter,
try method 2 for \( M=3 \) and compare the evolution of <code>s</code> with your own
hand calculations.

<p>
<!-- --- end hint in exercise --- -->
Filename: <code>sum_while.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 11: Replace a while loop by a for loop <a name="sec:basic:ex29b"></a></h2>

<p>
Rewrite the corrected version of the
program in <a href="#sec:basic:ex29a">Exercise 10: Compute a mathematical sum</a> using a
<code>for</code> loop over <code>k</code> values
instead of a <code>while</code> loop.
Filename: <code>sum_for.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 12: Simulate a program by hand <a name="sec:basic:ex24a"></a></h2>

<p>
Consider the following program for computing with interest rates:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>initial_amount = 100
p = 5.5  # interest rate
amount = initial_amount
years = 0
while amount &lt;= 1.5*initial_amount:
    amount = amount + p/100*amount
    years = years + 1
print years
</code></pre>
<!-- end verbatim block -->

<p>
<b>a)</b>
Use a pocket calculator or an interactive Python shell
and work through the program calculations by hand. Write down
the value of <code>amount</code> and <code>years</code> in each pass of the loop.

<p>
<b>b)</b>
Set <code>p = 5</code> instead. Why will the loop
now run forever? (Apply Ctrl+c, see <a href="#sec:basic:ex29a">Exercise 10: Compute a mathematical sum</a>, to
stop a program with a loop that runs forever.)
Make the program robust against such errors.

<p>
<b>c)</b>
Make use of the operator <code>+=</code> wherever possible in the program.

<p>
<b>d)</b>
Explain with words what type of mathematical problem that is solved
by this program.

<p>
Filename: <code>interest_rate_loop.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 13: Explore Python documentation <a name="sec:basic:ex47"></a></h2>

<p>
Suppose you want to compute with the inverse sine function:
\( \sin^{-1}x \). How do you do that in a Python program?

<p>
<!-- --- begin hint in exercise --- -->

<p>
<b>Hint.</b>
The <code>math</code> module has an inverse sine function.
Find the correct name of the function by looking up
the module content in the online <a href="http://docs.python.org/2/library/" target="_self">Python Standard Library</a> document
or use <code>pydoc</code>, see the section <a href="._looplist-solarized006.html#sec:basic:pyinfo">How to find more Python information</a>.

<p>
<!-- --- end hint in exercise --- -->
Filename: <code>inverse_sine.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 14: Index a nested list <a name="sec:basic:ex15n"></a></h2>

<p>
We define the following nested list:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>q = [['a', 'b', 'c'], ['d', 'e', 'f'], ['g', 'h']]
</code></pre>
<!-- end verbatim block -->

<p>
<b>a)</b>
Index this list to extract 1) the letter <code>a</code>;
2) the list <code>['d', 'e', 'f']</code>; 3) the last element <code>h</code>;
4) the <code>d</code> element.
Explain why <code>q[-1][-2]</code> has the value <code>g</code>.

<p>
<b>b)</b>
We can visit all elements of <code>q</code> using this nested <code>for</code> loop:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>for i in q:
    for j in range(len(i)):
        print i[j]
</code></pre>
<!-- end verbatim block -->
What type of objects are <code>i</code> and <code>j</code>?

<p>
Filename: <code>index_nested_list.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 15: Store data in lists <a name="sec:basic:ex1b"></a></h2>

<p>
Modify the program from <a href="#sec:basic:ex1">Exercise 2: Generate an approximate Fahrenheit-Celsius conversion table</a> so that
all the \( F \), \( C \), and \( \hat C \) values are stored in separate lists
<code>F</code>, <code>C</code>, and <code>C_approx</code>, respectively.
Then make a nested list <code>conversion</code> so that
<code>conversion[i]</code> holds a row in the table: <code>[F[i], C[i], C_approx[i]]</code>.
Finally, let the program traverse the <code>conversion</code> list and write
out the same table as in <a href="#sec:basic:ex1">Exercise 2: Generate an approximate Fahrenheit-Celsius conversion table</a>.
Filename: <code>f2c_approx_lists.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 16: Store data in a nested list <a name="sec:basic:ex4c"></a></h2>

<p>
<b>a)</b>
Compute two lists of \( t \) and \( y \) values as explained
in <a href="#sec:basic:ex4b">Exercise 8: Store values from a formula in lists</a>. Store the two
lists in a new nested list <code>ty1</code> such that <code>ty1[0]</code> and <code>ty1[1]</code>
correspond to the two lists.  Write out a table with \( t \) and \( y \)
values in two columns by looping over the data in the <code>ty1</code> list.
Each number should be written with two decimals.

<p>
<b>b)</b>
Make a list <code>ty2</code> which holds each row in the table
of \( t \) and \( y \) values (<code>ty1</code> is a list of table columns while
<code>ty2</code> is a list of table rows, as explained in the section <a href="._looplist-solarized004.html#sec:basic:nestedlists">Nested lists</a>). Loop over the <code>ty2</code> list and write out the \( t \) and \( y \)
values with two decimals each.

<p>
Filename: <code>ball_table3.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 17: Values of boolean expressions <a name="sec:basic:ex15b"></a></h2>

<p>
Explain the outcome of each of the following boolean expressions:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>C = 41
C == 40
C != 40 and C &lt; 41
C != 40 or  C &lt; 41
not C == 40
not C &gt; 40
C &lt;= 41
not False
True and False
False or True
False or False or False
True and True and False
False == 0
True == 0
True == 1
</code></pre>
<!-- end verbatim block -->

<p>
<div class="alert alert-block alert-warning alert-text-normal">
<b>Note.</b>
<p>
It makes sense to compare
<code>True</code> and <code>False</code> to the integers 0 and 1,
but not other integers (e.g., <code>True == 12</code> is <code>False</code> although
the <em>integer</em> 12 evaluates to <code>True</code> in a boolean context, as
in <code>bool(12)</code> or <code>if 12</code>).
</div>


<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 18: Explore round-off errors from a large number of inverse operations <a name="sec:basic:ex14b"></a></h2>

<p>
Maybe you have tried to hit the square root key on a calculator
multiple times and then squared the number again an equal number of
times. These set of inverse mathematical operations should of course
bring you back to the starting value for the computations, but this does
not always happen. To avoid tedious pressing of calculator keys, we can
let a computer automate the process. Here is an appropriate program:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>from math import sqrt
for n in range(1, 60):
    r = 2.0
    for i in range(n):
        r = sqrt(r)
    for i in range(n):
        r = r**2
    print '%d times sqrt and **2: %.16f' % (n, r)
</code></pre>
<!-- end verbatim block -->
Explain with words what the program does. Then run the program.
Round-off errors are here completely destroying the calculations when
<code>n</code> is large enough! Investigate the case when we come back to
1 instead of 2 by fixing an <code>n</code> value where this happens and printing
out <code>r</code> in both <code>for</code> loops over <code>i</code>.
Can you now explain why we come back to 1 and not 2?
Filename: <code>repeated_sqrt.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 19: Explore what zero can be on a computer <a name="sec:basic:ex14"></a></h2>

<p>
Type in the following code and run it:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>eps = 1.0
while 1.0 != 1.0 + eps:
    print '...............', eps
    eps = eps/2.0
print 'final eps:', eps
</code></pre>
<!-- end verbatim block -->
Explain with words what the code is doing, line by line.
Then examine the output. How can it be that the
&quot;equation&quot; \( 1\neq 1+ \hbox{eps} \) is not true?
Or in other words, that a number of approximately size \( 10^{-16} \)
(the final <code>eps</code> value when the loop terminates) gives
the same result as if <code>eps</code> were zero?
Filename: <code>machine_zero.py</code>.

<p>
<!-- Closing remarks for this Exercise -->

<h3>Remarks  <a name="___sec60"></a></h3>

<p>
The nonzero <code>eps</code> value computed above is called <em>machine epsilon</em> or
<em>machine zero</em> and is an important parameter to know, especially when
certain mathematical techniques are applied to control round-off
errors.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 20: Compare two real numbers with a tolerance <a name="sec:formula:ex14c"></a></h2>

<p>
Run the following program:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>a = 1/947.0*947
b = 1
if a != b:
    print 'Wrong result!'
</code></pre>
<!-- end verbatim block -->

<p>
The lesson learned from this program is that one should never compare
two floating-point objects directly using <code>a == b</code> or <code>a != b</code>,
because round-off errors quickly make two identical mathematical
values different on a computer.  A better result is to test if
<code>abs(a - b) &lt; tol</code>, where <code>tol</code> is a very small number.  Modify the test
according to this idea.
Filename: <code>compare_floats.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 21: Interpret a code <a name="sec:basic:ex16"></a></h2>

<p>
The function <code>time</code> in the module <code>time</code> returns the number
of seconds since a particular date (called the Epoch, which is
January 1, 1970, on many types of computers). Python programs can therefore
use <code>time.time()</code> to mimic a stop watch. Another function,
<code>time.sleep(n)</code> causes the program to pause for <code>n</code> seconds
and is handy for inserting a pause.
Use this information to
explain what the following code does:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>import time
t0 = time.time()
while time.time() - t0 &lt; 10:
    print '....I like while loops!'
    time.sleep(2)
print 'Oh, no - the loop is over.'
</code></pre>
<!-- end verbatim block -->
How many times is the <code>print</code> statement inside the loop executed?
Now, copy the code segment and change the <code>&lt;</code> sign in the loop
condition to a <code>&gt;</code> sign.  Explain what happens now.
Filename: <code>time_while.py</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 22: Explore problems with inaccurate indentation <a name="sec:basic:ex3"></a></h2>

<p>
Type in the following program in a file and check carefully that you have
exactly the same spaces:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>C = -60; dC = 2
while C &lt;= 60:
    F = (9.0/5)*C + 32
      print C, F
C = C + dC
</code></pre>
<!-- end verbatim block -->
Run the program. What is the first problem? Correct that error.
What is the next problem? What is the cause of that problem?
(See <a href="#sec:basic:ex29a">Exercise 10: Compute a mathematical sum</a> for how to stop a hanging program.)
Filename: <code>indentation.py</code>.

<p>
<!-- Closing remarks for this Exercise -->

<h3>Remarks  <a name="___sec64"></a></h3>

<p>
The lesson learned from this exercise is that one has to be very
careful with indentation in Python programs! Other computer languages
usually enclose blocks belonging to loops in curly braces,
parentheses, or begin-end marks. Python's convention with using solely
indentation contributes to visually attractive, easy-to-read code, at
the cost of requiring a pedantic attitude to blanks from the
programmer.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 23: Explore punctuation in Python programs <a name="sec:input:ex33"></a></h2>

<p>
Some of the following assignments work and some do not.
Explain in each case why the assignment works/fails and, if it
works, what kind of object <code>x</code> refers to and what the value is
if we do a <code>print x</code>.

<p>
<!-- begin verbatim block  pycod-->
<pre><code>x = 1
x = 1.
x = 1;
x = 1!
x = 1?
x = 1:
x = 1,
</code></pre>
<!-- end verbatim block -->

<p>
<!-- --- begin hint in exercise --- -->

<p>
<b>Hint.</b>
Explore the statements in an interactive Python shell.

<p>
<!-- --- end hint in exercise --- -->
Filename: <code>punctuation.*</code>.

<p>
<!-- --- end exercise --- -->

<p>
<!-- --- begin exercise --- -->

<h2>Exercise 24: Investigate a for loop over a changing list <a name="sec:basic:ex18"></a></h2>

<p>
Study the following interactive session and explain in detail what
happens in each pass of the loop, and use this explanation to
understand the output.

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; numbers = range(10)
&gt;&gt;&gt; print numbers
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; for n in numbers:
...     i = len(numbers)/2
...     del numbers[i]
...     print 'n=%d, del %d' % (n,i), numbers
...
n=0, del 5 [0, 1, 2, 3, 4, 6, 7, 8, 9]
n=1, del 4 [0, 1, 2, 3, 6, 7, 8, 9]
n=2, del 4 [0, 1, 2, 3, 7, 8, 9]
n=3, del 3 [0, 1, 2, 7, 8, 9]
n=8, del 3 [0, 1, 2, 8, 9]
</code></pre>
<!-- end verbatim block -->

<p>
<div class="alert alert-block alert-warning alert-text-normal">
<b>Warning.</b>
<p>
The message in this exercise is to <em>never modify a list that
we are looping over.</em> Modification is indeed technically possible, as
shown above, but you really need to know what you are doing. Otherwise
you will experience very strange program behavior.
</div>


<p>
<!-- --- end exercise --- -->

<h1>References  <a name="___sec67"></a></h1>

<p>
<!-- begin bibliography -->

<ol>
 <li> <a name="Python:Library:Reference"></a> <b>P. S. Foundation</b>. 
    The Python Standard Library,
    <a href="http://docs.python.org/2/library/" target="_self"><tt>http://docs.python.org/2/library/</tt></a>.</li>
 <li> <a name="Beazley"></a> <b>D. Beazley</b>. 
    <em>Python Essential Reference</em>,
    Addison-Wesley,
    2009.</li>
 <li> <a name="LearningPython"></a> <b>M. Lutz</b>. 
    <em>Learning Python</em>,
    O'Reilly,
    2013.</li>
 <li> <a name="Fuhrer_et_al_2014"></a> <b>C. F\"uhrer, J. E. Solem and O. Verdier</b>. 
    <em>Computing with Python - An Introduction to Python for Science and Engineering</em>,
    Pearson,
    2014.</li>
 <li> <a name="TCSE3"></a> <b>H. P. Langtangen</b>. 
    <em>Python Scripting for Computational Science</em>,
    Springer,
    2009.</li>
 <li> <a name="Python:Quick:Ref"></a> <b>R. Gruet</b>. 
    Python Quick Reference,
    <a href="http://rgruet.free.fr/" target="_self"><tt>http://rgruet.free.fr/</tt></a>.</li>
</ol>

<!-- end bibliography -->

<p>
<!-- begin bottom navigation -->
<table style="width: 100%"><tr><td>
<div style="text-align: left;"><a href="._looplist-solarized006.html">&laquo; Previous</a></div>
</td><td>
</td></tr></table>
<!-- end bottom navigation -->
</p>

<!-- ------------------- end of main content --------------- -->


</body>
</html>
    

