<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Loops and lists">
<meta name="keywords" content="loops,boolean expressions,logical expressions,factorial,lists,method (class),list comprehension,list, nested,nested lists,list comprehension,pretty print,sublist,slicing,nested loops,tuples,list functionality,sequence (data type),sum ($\Sigma$) implementation,comparing floating-point numbers,comparing real numbers,comparing objects">

<title>Loops and lists</title>


<link href="https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_styles/style_solarized_box/css/solarized_light_code.css" rel="stylesheet" type="text/css" title="light"/>
<script src="https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_styles/style_solarized_box/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<link href="http://thomasf.github.io/solarized-css/solarized-light.min.css" rel="stylesheet">
<style type="text/css">
h1 {color: #b58900;}  /* yellow */
/* h1 {color: #cb4b16;}  orange */
/* h1 {color: #d33682;}  magenta, the original choice of thomasf */
code { padding: 0px; background-color: inherit; }
pre {
  border: 0pt solid #93a1a1;
  box-shadow: none;
}
.alert-text-small   { font-size: 80%;  }
.alert-text-large   { font-size: 130%; }
.alert-text-normal  { font-size: 90%;  }
.alert {
  padding:8px 35px 8px 14px; margin-bottom:18px;
  text-shadow:0 1px 0 rgba(255,255,255,0.5);
  border:1px solid #93a1a1;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  -moz-border-radius: 4px;
  color: #555;
  background-color: #eee8d5;
  background-position: 10px 5px;
  background-repeat: no-repeat;
  background-size: 38px;
  padding-left: 55px;
  width: 75%;
 }
.alert-block {padding-top:14px; padding-bottom:14px}
.alert-block > p, .alert-block > ul {margin-bottom:1em}
.alert li {margin-top: 1em}
.alert-block p+p {margin-top:5px}
.alert-notice { background-image: url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_notice.png); }
.alert-summary  { background-image:url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_summary.png); }
.alert-warning { background-image: url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_warning.png); }
.alert-question {background-image:url(https://cdn.rawgit.com/hplgit/doconce/master/bundled/html_images/small_yellow_question.png); }

div { text-align: justify; text-justify: inter-word; }
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [(' While loops ', 1, 'sec:basic:loops', 'sec:basic:loops'),
              (' A naive solution ', 2, 'sec:basic:naive', 'sec:basic:naive'),
              (' While loops ', 2, 'sec:basic:while', 'sec:basic:while'),
              (' Boolean expressions ',
               2,
               'sec:basic:boolexpr',
               'sec:basic:boolexpr'),
              (' Loop implementation of a sum ',
               2,
               'sec:basic:sumloop',
               'sec:basic:sumloop'),
              (' Lists ', 1, None, '___sec5'),
              (' Basic list operations ',
               2,
               'sec:lists:basc:op',
               'sec:lists:basc:op'),
              (' For loops ', 2, None, '___sec7'),
              (' The nature of for loops ', 3, None, '___sec8'),
              (' Making the table ', 3, None, '___sec9'),
              (' Alternative implementations with lists and loops ',
               1,
               None,
               '___sec10'),
              (' While loop implementation of a for loop ',
               2,
               None,
               '___sec11'),
              (' The range construction ', 2, None, '___sec12'),
              (' For loops with list indices ', 2, None, '___sec13'),
              (' Changing list elements ', 2, None, '___sec14'),
              (' List comprehension ',
               2,
               'sec:basic:list:comprehension',
               'sec:basic:list:comprehension'),
              (' Traversing multiple lists simultaneously ',
               2,
               None,
               '___sec16'),
              (' Nested lists ',
               1,
               'sec:basic:nestedlists',
               'sec:basic:nestedlists'),
              (' A table as a list of rows or columns ', 2, None, '___sec18'),
              (' Printing objects ', 2, None, '___sec19'),
              (' Modules for pretty print of objects ', 3, None, '___sec20'),
              (' Manual printing ', 3, None, '___sec21'),
              (' Extracting sublists ',
               2,
               'sec:basic:slice',
               'sec:basic:slice'),
              (' Example ', 3, None, '___sec23'),
              (' Traversing nested lists ', 2, None, '___sec24'),
              (' Tuples ', 1, 'sec:lists:tuples', 'sec:lists:tuples'),
              (' Summary ',
               1,
               'sec:looplist:summary',
               'sec:looplist:summary'),
              (' Chapter topics ', 2, None, '___sec27'),
              (' While loops ', 3, None, '___sec28'),
              (' Lists ', 3, None, '___sec29'),
              (' Nested lists ', 3, None, '___sec30'),
              (' Tuples ', 3, None, '___sec31'),
              (' For loops ', 3, None, '___sec32'),
              (' Pretty print ', 3, None, '___sec33'),
              (' Terminology ', 3, None, '___sec34'),
              (' Example: Analyzing list data ',
               2,
               'sec:looplist:summary:ex',
               'sec:looplist:summary:ex'),
              (' Problem ', 3, None, '___sec36'),
              (' Solution ', 3, None, '___sec37'),
              (' Remark ', 3, None, '___sec38'),
              (' How to find more Python information ',
               2,
               'sec:basic:pyinfo',
               'sec:basic:pyinfo'),
              (' Exercises ', 1, None, '___sec40'),
              (' Exercise 1: Make a Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex41',
               'sec:basic:ex41'),
              (' Exercise 2: Generate an approximate Fahrenheit-Celsius conversion table ',
               2,
               'sec:basic:ex1',
               'sec:basic:ex1'),
              (' Exercise 3: Work with a list ',
               2,
               'sec:basic:ex00',
               'sec:basic:ex00'),
              (' Exercise 4: Generate odd numbers ',
               2,
               'sec:basic:ex0',
               'sec:basic:ex0'),
              (' Exercise 5: Sum of first $n$ integers ',
               2,
               'sec:basic:sum:no',
               'sec:basic:sum:no'),
              (' Exercise 6: Generate equally spaced coordinates ',
               2,
               'sec:basic:ex44',
               'sec:basic:ex44'),
              (' Exercise 7: Make a table of values from a formula ',
               2,
               'sec:basic:ex4',
               'sec:basic:ex4'),
              (' Exercise 8: Store values from a formula in lists ',
               2,
               'sec:basic:ex4b',
               'sec:basic:ex4b'),
              (' Exercise 9: Simulate operations on lists by hand ',
               2,
               'sec:basic:ex43',
               'sec:basic:ex43'),
              (' Exercise 10: Compute a mathematical sum ',
               2,
               'sec:basic:ex29a',
               'sec:basic:ex29a'),
              (' Exercise 11: Replace a while loop by a for loop ',
               2,
               'sec:basic:ex29b',
               'sec:basic:ex29b'),
              (' Exercise 12: Simulate a program by hand ',
               2,
               'sec:basic:ex24a',
               'sec:basic:ex24a'),
              (' Exercise 13: Explore Python documentation ',
               2,
               'sec:basic:ex47',
               'sec:basic:ex47'),
              (' Exercise 14: Index a nested list ',
               2,
               'sec:basic:ex15n',
               'sec:basic:ex15n'),
              (' Exercise 15: Store data in lists ',
               2,
               'sec:basic:ex1b',
               'sec:basic:ex1b'),
              (' Exercise 16: Store data in a nested list ',
               2,
               'sec:basic:ex4c',
               'sec:basic:ex4c'),
              (' Exercise 17: Values of boolean expressions ',
               2,
               'sec:basic:ex15b',
               'sec:basic:ex15b'),
              (' Exercise 18: Explore round-off errors from a large number of inverse operations ',
               2,
               'sec:basic:ex14b',
               'sec:basic:ex14b'),
              (' Exercise 19: Explore what zero can be on a computer ',
               2,
               'sec:basic:ex14',
               'sec:basic:ex14'),
              (' Remarks ', 3, None, '___sec60'),
              (' Exercise 20: Compare two real numbers with a tolerance ',
               2,
               'sec:formula:ex14c',
               'sec:formula:ex14c'),
              (' Exercise 21: Interpret a code ',
               2,
               'sec:basic:ex16',
               'sec:basic:ex16'),
              (' Exercise 22: Explore problems with inaccurate indentation ',
               2,
               'sec:basic:ex3',
               'sec:basic:ex3'),
              (' Remarks ', 3, None, '___sec64'),
              (' Exercise 23: Explore punctuation in Python programs ',
               2,
               'sec:input:ex33',
               'sec:input:ex33'),
              (' Exercise 24: Investigate a for loop over a changing list ',
               2,
               'sec:basic:ex18',
               'sec:basic:ex18'),
              (' References ', 1, None, '___sec67')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- newcommands_keep.tex -->
$$
\newcommand{\tp}{\thinspace .}
$$




    
<a name="part0002"></a>
<p>
<!-- begin top navigation -->
<table style="width: 100%"><tr><td>
<div style="text-align: left;"><a href="._looplist-solarized001.html">&laquo; Previous</a></div>
</td><td>
<div style="text-align: right;"><a href="._looplist-solarized003.html">Next &raquo;</a></div>
</td></tr></table>
<!-- end top navigation -->
</p>

<p>
<!-- !split -->
<p style="font-size:80%">This chapter is taken from book <a href="http://www.springer.com/gp/book/9783642549588">A Primer on Scientific Programming with Python</a> by H. P. Langtangen, 4th edition, Springer, 2014.</p>

<h1 id="___sec5">Lists </h1>

<p>
Up to now a variable has typically contained a single number.
Sometimes numbers are naturally grouped together. For example, all
Celsius degrees in the first column of our table from the section <a href="._looplist-solarized001.html#sec:basic:while">While loops</a> could be conveniently stored together as a
group. A Python <em>list</em> can be used to represent such a group of
numbers in a program.  With a variable that refers to the list, we can
work with the whole group at once, but we can also access individual
elements of the group.  Figure <a href="#sec:basic:fig1">1</a> illustrates the
difference between an <code>int</code> object and a list object.  In general, a
list may contain a sequence of arbitrary objects in a given order.
Python has great functionality for examining and manipulating such
sequences of objects, which will be demonstrated below.

<p>
<center> <!-- figure -->
<hr class="figure">
<center><p class="caption">Figure 1:  Illustration of two variables: <code>var1</code> refers to an <code>int</code> object with value 21, created by the statement <code>var1 = 21</code>, and <code>var2</code> refers to a <code>list</code> object with value <code>[20, 21, 29, 4.0]</code>, i.e., three <code>int</code> objects and one <code>float</code> object, created by the statement <code>var2 = [20, 21, 29, 4.0]</code>. <div id="sec:basic:fig1"></div> </p></center>
<p><img src="fig-looplist/lumpy_int_list.png" align="bottom" width=400></p>
</center>

<h2 id="sec:lists:basc:op">Basic list operations</h2>

<p>
To create a list with the numbers from the first column in our table,
we just put all the numbers inside square brackets and separate the
numbers by commas:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>C = [-20, -15, -10, -5, 0, 5, 10, 15, 20, 25, 30, 35, 40]
</code></pre>
<!-- end verbatim block -->
The variable <code>C</code> now refers to a <code>list</code> object holding
13 list <em>elements</em>. All list  elements are in this
case <code>int</code> objects.

<p>
Every element in a list is associated with
an <em>index</em>, which reflects the position of the element in the list.
The first element has index 0, the second index 1, and so on.
Associated with the <code>C</code> list above
we have 13 indices, starting with 0 and ending with 12.
To access the element with index 3, i.e., the fourth element in the list,
we can write <code>C[3]</code>. As we see from the list, <code>C[3]</code> refers
to an <code>int</code> object with the value \( -5 \).

<p>
Elements in lists can be deleted, and new elements can be inserted
anywhere. The functionality for
doing this is built into the list object and accessed by a dot
notation. Two examples
are <code>C.append(v)</code>, which appends a new element <code>v</code> to the
end of the list, and <code>C.insert(i,v)</code>, which
inserts a new element <code>v</code> in
position number <code>i</code> in the list.
The number of elements in a list is given by <code>len(C)</code>.
Let us exemplify some list operations in an interactive session to see
the effect of the operations:

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; C = [-10, -5, 0, 5, 10, 15, 20, 25, 30]     # create list
&gt;&gt;&gt; C.append(35)              # add new element 35 at the end
&gt;&gt;&gt; C                         # view list C
[-10, -5, 0, 5, 10, 15, 20, 25, 30, 35]
</code></pre>
<!-- end verbatim block -->
Two lists can be added:

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; C = C + [40, 45]          # extend C at the end
&gt;&gt;&gt; C
[-10, -5, 0, 5, 10, 15, 20, 25, 30, 35, 40, 45]
</code></pre>
<!-- end verbatim block -->
What adding two
lists means is up to the list object to define, and not surprisingly,
addition of two lists is defined as appending the second list to the first.
The result of <code>C + [40,45]</code> is a new list object, which we then
assign to <code>C</code> such that this name refers
to this new list.
In fact, every object in Python
and everything you can do with it is defined by programs made by humans.
With the techniques of class programming
you can create your own objects and define (if desired) what it means to add
such objects. All this gives enormous power in the hands of programmers.
As one example, you can define your own list
object if you are not satisfied with the functionality of
Python's own lists.

<p>
New elements can be inserted anywhere in the list (and not only at
the end as we did with <code>C.append</code>):

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; C.insert(0, -15)          # insert new element -15 as index 0
&gt;&gt;&gt; C
[-15, -10, -5, 0, 5, 10, 15, 20, 25, 30, 35, 40, 45]
</code></pre>
<!-- end verbatim block -->
With <code>del C[i]</code> we can remove an element with index <code>i</code> from
the list <code>C</code>. Observe that this changes the list, so <code>C[i]</code>
refers to another (the next) element after the removal:

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; del C[2]                  # delete 3rd element
&gt;&gt;&gt; C
[-15, -10, 0, 5, 10, 15, 20, 25, 30, 35, 40, 45]
&gt;&gt;&gt; del C[2]                  # delete what is now 3rd element
&gt;&gt;&gt; C
[-15, -10, 5, 10, 15, 20, 25, 30, 35, 40, 45]
&gt;&gt;&gt; len(C)                    # length of list
11
</code></pre>
<!-- end verbatim block -->
The command <code>C.index(10)</code> returns the index corresponding to
the first element with value <code>10</code> (this is the 4th element in our sample
list, with index 3):

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; C.index(10)               # find index for an element (10)
3
</code></pre>
<!-- end verbatim block -->
To just test if an object with the value <code>10</code>
is an element in the list, one can write the boolean expression
<code>10 in C</code>:

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; 10 in C                   # is 10 an element in C?
True
</code></pre>
<!-- end verbatim block -->
Python allows negative indices, which leads to
indexing from the right. As
demonstrated below, <code>C[-1]</code> gives the last element of the list <code>C</code>.
<code>C[-2]</code> is the element before <code>C[-1]</code>, and so forth.

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; C[-1]                     # view the last list element
45
&gt;&gt;&gt; C[-2]                     # view the next last list element
40
</code></pre>
<!-- end verbatim block -->

<p>
Building long lists by writing down all the elements separated
by commas is a tedious process that can easily be automated by
a loop, using ideas from the section <a href="._looplist-solarized001.html#sec:basic:sumloop">Loop implementation of a sum</a>.
Say we want to build a list of degrees from -50 to 200 in steps
of 2.5 degrees. We then start with an empty list and use a <code>while</code>
loop to append one element at a time:

<p>
<!-- begin verbatim block  pycod-->
<pre><code>C = []
C_value = -50
C_max = 200
while C_value &lt;= C_max:
     C.append(C_value)
     C_value += 2.5
</code></pre>
<!-- end verbatim block -->
In the next sections, we shall see how we can express these six lines
of code with just one single statement.

<p>
There is a compact syntax for creating variables that refer to the
various list elements. Simply list a sequence of variables on the
left-hand side of an assignment to a list:

<p>
<!-- begin verbatim block  pyshell-->
<pre><code>&gt;&gt;&gt; somelist = ['book.tex', 'book.log', 'book.pdf']
&gt;&gt;&gt; texfile, logfile, pdf = somelist
&gt;&gt;&gt; texfile
'book.tex'
&gt;&gt;&gt; logfile
'book.log'
&gt;&gt;&gt; pdf
'book.pdf'
</code></pre>
<!-- end verbatim block -->
The number of variables on the left-hand side must match the number of
elements in the list, otherwise an error occurs.

<p>
A final comment regards the syntax: some list operations are reached
by a dot notation, as in <code>C.append(e)</code>, while other operations
requires the list object as an argument to a function, as in
<code>len(C)</code>.  Although <code>C.append</code> for a programmer behaves as a
function, it is a function that is reached through a list object, and
it is common to say that <code>append</code> is a <em>method</em> in the list
object, not a function. There are no strict
rules in Python whether functionality regarding an object is reached
through a method or a function.

<h2 id="___sec7">For loops </h2>

<h3 id="___sec8">The nature of for loops </h3>

<p>
When data are collected in a list, we often want to perform the same
operations on each element in the list. We then need to walk through
all list elements. Computer languages have a special construct
for doing this conveniently, and this construct is in Python
and many other languages called a <code>for</code> loop. Let us use a
<code>for</code> loop to print out all list elements:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>degrees = [0, 10, 20, 40, 100]
for C in degrees:
    print 'list element:', C
print 'The degrees list has', len(degrees), 'elements'
</code></pre>
<!-- end verbatim block -->
The <code>for C in degrees</code> construct creates a loop over all
elements in the list <code>degrees</code>.
In each pass of the loop, the variable
<code>C</code> refers to an element in the list, starting with <code>degrees[0]</code>,
proceeding with <code>degrees[1]</code>, and so on, before
ending with the last element <code>degrees[n-1]</code>
(if <code>n</code> denotes the number of elements in the list, <code>len(degrees)</code>).

<p>
The <code>for</code> loop specification ends with a colon, and after the colon
comes a block of statements that does something useful with the
current element. Each statement in the block must be indented,
as we explained for <code>while</code> loops.
In the example above, the block belonging to the <code>for</code> loop
contains only one statement.
The final <code>print</code> statement has the same indentation (none in this
example)
as the <code>for</code> statement and is executed as soon as the
loop is terminated.

<p>
As already mentioned,
understanding all details of a program by following the program flow
by hand is often a very good idea. Here, we first define a list
<code>degrees</code> containing 5 elements. Then we enter the <code>for</code> loop.
In the first pass of the loop, <code>C</code> refers to the first element in
the list <code>degrees</code>, i.e., the <code>int</code> object holding the value <code>0</code>.
Inside the loop we then print out the text <code>'list element:'</code>
and the value of <code>C</code>, which is <code>0</code>. There are no more statements
in the loop block, so we proceed with the next pass of the
loop. <code>C</code> then refers to the <code>int</code> object <code>10</code>, the output
now prints <code>10</code> after the leading text, we proceed with <code>C</code>
as the integers <code>20</code> and <code>40</code>, and finally <code>C</code> is <code>100</code>.
After having printed the list element
with value <code>100</code>, we move on to the statement
after the indented loop block, which prints out the number of
list elements.
The total output becomes

<p>
<!-- begin verbatim block  ccq-->
<pre><code>list element: 0
list element: 10
list element: 20
list element: 40
list element: 100
The degrees list has 5 elements
</code></pre>
<!-- end verbatim block -->
Correct indentation of statements is crucial in Python, and we
therefore strongly recommend you to work through
<a href="._looplist-solarized007.html#sec:basic:ex3">Exercise 22: Explore problems with inaccurate indentation</a> to learn more about this topic.

<p>
<!-- ===== Making the table  <div id="___sec9"></div>===== -->

<h3>Making the table</h3>

<p>
Our knowledge of lists and <code>for</code> loops over elements in lists
puts us in a good position
to write a program where we collect all the
Celsius degrees to appear in the table in a list <code>Cdegrees</code>,
and then use a <code>for</code> loop to compute and write out the corresponding
Fahrenheit degrees.
The complete program may look like this:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>Cdegrees = [-20, -15, -10, -5, 0, 5, 10, 15, 20, 25, 30, 35, 40]
for C in Cdegrees:
    F = (9.0/5)*C + 32
    print C, F
</code></pre>
<!-- end verbatim block -->
The <code>print C, F</code> statement just prints the value of <code>C</code> and
<code>F</code> with a default format, where each number is separated by one space
character (blank). This does not look like a nice table (the output
is identical to the one shown in the section <a href="._looplist-solarized001.html#sec:basic:naive">A naive solution</a>.
Nice formatting is obtained by forcing <code>C</code> and <code>F</code> to be written
in fields of fixed width and with a fixed number of decimals.
An appropriate printf format is <code>%5d</code>
(or <code>%5.0f</code>) for
<code>C</code> and
<code>%5.1f</code> for <code>F</code>.
We may also add a headline to the table. The complete program
becomes:

<p>
<!-- begin verbatim block  pypro-->
<pre><code>Cdegrees = [-20, -15, -10, -5, 0, 5, 10, 15, 20, 25, 30, 35, 40]
print '    C    F'
for C in Cdegrees:
    F = (9.0/5)*C + 32
    print '%5d %5.1f' % (C, F)
</code></pre>
<!-- end verbatim block -->
This code is found in the file
<a href="http://tinyurl.com/pwyasaa/looplist/c2d_table_list.py" target="_self"><tt>c2f_table_list.py</tt></a>
and its output becomes

<p>
<!-- begin verbatim block  ccq-->
<pre><code>    C    F
  -20  -4.0
  -15   5.0
  -10  14.0
   -5  23.0
    0  32.0
    5  41.0
   10  50.0
   15  59.0
   20  68.0
   25  77.0
   30  86.0
   35  95.0
   40 104.0
</code></pre>
<!-- end verbatim block -->

<p>
<p>
<!-- begin bottom navigation -->
<table style="width: 100%"><tr><td>
<div style="text-align: left;"><a href="._looplist-solarized001.html">&laquo; Previous</a></div>
</td><td>
<div style="text-align: right;"><a href="._looplist-solarized003.html">Next &raquo;</a></div>
</td></tr></table>
<!-- end bottom navigation -->
</p>

<!-- ------------------- end of main content --------------- -->


</body>
</html>
    

