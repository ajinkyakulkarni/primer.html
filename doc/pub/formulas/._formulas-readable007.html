<!--
Automatically generated HTML file from DocOnce source
(https://github.com/hplgit/doconce/)
-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="DocOnce: https://github.com/hplgit/doconce/" />
<meta name="description" content="Computing with formulas">
<meta name="keywords" content="directory,run Python program,execute Python program,terminal window,console (terminal) window,directory,comments,non-English characters,formatting text and numbers,printf syntax,string,triple-quoted strings,format string syntax,newline character (line break),line break,source code,application,statements,expression,syntax,whitespace,blanks,whitespace,input (data),output (data),user (of a program),operating system (OS),Windows,Mac OS X,Unix,Linux,objects,rounding errors,interactive sessions standard Python shell,type conversion,check an object's type,rounding float to integer,interactive sessions IPython,IPython,run Python program,execute Python program,IPython running Python programs,IPython start-up file,IPython executing operating system commands,IPython command history,complex numbers,SymPy,SymPy differentiation,SymPy integration,SymPy equation solving,SymPy Taylor series,PEP8,Gaussian function">

<title>Computing with formulas</title>

<!-- Bootstrap style: bootswatch_readable -->
<link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/readable/bootstrap.min.css" rel="stylesheet">
<!-- not necessary
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
-->

<style type="text/css">
/* Let inline verbatim have the same color as the surroundings */
code { color: inherit; background-color: transparent; }

/* Add scrollbar to dropdown menus in bootstrap navigation bar */
.dropdown-menu {
   height: auto;
   max-height: 400px;
   overflow-x: hidden;
}

/* Adds an invisible element before each target to offset for the navigation
   bar */
.anchor::before {
  content:"";
  display:block;
  height:50px; /* fixed header height*/
  margin:-50px 0 0; /* negative fixed header height */
}

body { font-size:20px;line-height:1.5--html_body_style=font-size:20px;line-height:1.5; }
</style>


</head>

<!-- tocinfo
{'highest level': 1,
 'sections': [('Table of contents',
               1,
               'table_of_contents',
               'table_of_contents'),
              (u'The first programming encounter: a formula',
               1,
               u'sec:formula:1',
               u'sec:formula:1'),
              (u'Using a program as a calculator',
               2,
               u'sec:formula:1st',
               u'sec:formula:1st'),
              (u'About programs and programming', 2, None, '___sec2'),
              (u'Tools for writing programs', 2, None, '___sec3'),
              (u'Writing and running your first Python program',
               2,
               None,
               '___sec4'),
              (u'Warning about typing program text', 2, None, '___sec5'),
              (u'Verifying the result', 2, None, '___sec6'),
              (u'Using variables',
               2,
               u'sec:formula:variables',
               u'sec:formula:variables'),
              (u'Names of variables', 2, None, '___sec8'),
              (u'Reserved words in Python',
               2,
               u'sec:formula:keywords',
               u'sec:formula:keywords'),
              (u'Comments', 2, None, '___sec10'),
              (u'Remark', 3, None, '___sec11'),
              (u'Formatting text and numbers',
               2,
               u'sec:formula:format',
               u'sec:formula:format'),
              (u'Printf syntax', 3, None, '___sec13'),
              (u'Format string syntax', 3, None, '___sec14'),
              (u'The newline character', 3, None, '___sec15'),
              (u'Computer science glossary',
               1,
               u'sec:formula:glossary',
               u'sec:formula:glossary'),
              (u'Another formula: Celsius-Fahrenheit conversion',
               1,
               u'sec:formula:c2f',
               u'sec:formula:c2f'),
              (u'Potential error: integer division',
               2,
               u'sec:formula:intdiv',
               u'sec:formula:intdiv'),
              (u'Straightforward coding of the formula', 3, None, '___sec19'),
              (u'Verifying the results', 3, None, '___sec20'),
              (u'Float and integer division', 3, None, '___sec21'),
              (u'Objects in Python', 2, None, '___sec22'),
              (u'Avoiding integer division',
               2,
               u'sec:formula:c2f:correct',
               u'sec:formula:c2f:correct'),
              (u'Locating potential integer division', 3, None, '___sec24'),
              (u'Remark', 3, None, '___sec25'),
              (u'Arithmetic operators and precedence',
               2,
               u'sec:formula:operators',
               u'sec:formula:operators'),
              (u'Evaluating standard mathematical functions',
               1,
               u'sec:formula:stdmath',
               u'sec:formula:stdmath'),
              (u'Example: Using the square root function',
               2,
               u'sec:formula:sqrt',
               u'sec:formula:sqrt'),
              (u'Problem', 3, None, '___sec29'),
              (u'The program', 3, None, '___sec30'),
              (u'Two ways of importing a module', 3, None, '___sec31'),
              (u'Import with new names', 3, None, '___sec32'),
              (u'Example: Computing with $\\sinh x$', 2, None, '___sec33'),
              (u'A first glimpse of rounding errors',
               2,
               u'sec:formula:roundoff',
               u'sec:formula:roundoff'),
              (u'Interactive computing',
               1,
               u'sec:formula:pyshell',
               u'sec:formula:pyshell'),
              (u'Using the Python shell', 2, None, '___sec36'),
              (u'Type conversion',
               2,
               u'sec:formulas:typeconversion',
               u'sec:formulas:typeconversion'),
              (u'IPython', 2, u'sec:formula:ipython', u'sec:formula:ipython'),
              (u'Running programs', 3, None, '___sec39'),
              (u'Quick recovery of previous output', 3, None, '___sec40'),
              (u'Tab completion', 3, None, '___sec41'),
              (u'Recovering previous commands', 3, None, '___sec42'),
              (u'Running Unix/Windows commands', 3, None, '___sec43'),
              (u'Notebooks', 3, None, '___sec44'),
              (u'Complex numbers',
               1,
               u'sec:formula:complex',
               u'sec:formula:complex'),
              (u'Complex arithmetics in Python', 2, None, '___sec46'),
              (u'Complex functions in Python', 2, None, '___sec47'),
              (u'Unified treatment of complex and real functions',
               2,
               u'formulas:unified:complex:real',
               u'formulas:unified:complex:real'),
              (u'Symbolic computing',
               1,
               u'sec:formula:sympy',
               u'sec:formula:sympy'),
              (u'Basic differentiation and integration',
               2,
               u'sec:formula:sympy:diffint',
               u'sec:formula:sympy:diffint'),
              (u'Equation solving', 2, None, '___sec51'),
              (u'Taylor series and more', 2, None, '___sec52'),
              (u'Summary', 1, u'sec:formula:summary', u'sec:formula:summary'),
              (u'Chapter topics', 2, None, '___sec54'),
              (u'Programs must be accurate!', 3, None, '___sec55'),
              (u'Variables', 3, None, '___sec56'),
              (u'Comment lines', 3, None, '___sec57'),
              (u'Object types', 3, None, '___sec58'),
              (u'Operators', 3, None, '___sec59'),
              (u'Common mathematical functions', 3, None, '___sec60'),
              (u'Print', 3, None, '___sec61'),
              (u'Complex numbers', 3, None, '___sec62'),
              (u'Terminology', 3, None, '___sec63'),
              (u'Example: Trajectory of a ball', 2, None, '___sec64'),
              (u'Problem', 3, None, '___sec65'),
              (u'Solution', 3, None, '___sec66'),
              (u'About typesetting conventions in this book',
               2,
               None,
               '___sec67'),
              (u'Style guide for Python code', 3, None, '___sec68'),
              (u'Exercises', 1, u'sec:formula:exer', u'sec:formula:exer'),
              (u'About solving exercises', 3, None, '___sec70'),
              (u'Exercise 1: Compute 1+1',
               2,
               u'sec:formula:ex0',
               u'sec:formula:ex0'),
              (u'Exercise 2: Write a Hello World program',
               2,
               u'sec:formula:ex5',
               u'sec:formula:ex5'),
              (u'Exercise 3: Derive and compute a formula',
               2,
               u'sec:formula:ex16',
               u'sec:formula:ex16'),
              (u'Exercise 4: Convert from meters to British length units',
               2,
               u'sec:formula:ex9',
               u'sec:formula:ex9'),
              (u'Exercise 5: Compute the mass of various substances',
               2,
               u'sec:formula:exex3',
               u'sec:formula:exex3'),
              (u'Exercise 6: Compute the growth of money in a bank',
               2,
               u'sec:formula:ex3',
               u'sec:formula:ex3'),
              (u'Exercise 7: Find error(s) in a program',
               2,
               u'sec:formula:ex12',
               u'sec:formula:ex12'),
              (u'Exercise 8: Type in program text',
               2,
               u'sec:formula:exex1',
               u'sec:formula:exex1'),
              (u'Exercise 9: Type in programs and debug them',
               2,
               u'sec:formula:exex2a',
               u'sec:formula:exex2a'),
              (u'Exercise 10: Evaluate a Gaussian function',
               2,
               u'sec:formula:ex7',
               u'sec:formula:ex7'),
              (u'Remarks', 3, None, '___sec81'),
              (u'Exercise 11: Compute the air resistance on a football',
               2,
               u'sec:formula:ex11',
               u'sec:formula:ex11'),
              (u'Exercise 12: How to cook the perfect egg',
               2,
               u'sec:formula:ex14',
               u'sec:formula:ex14'),
              (u'Exercise 13: Derive the trajectory of a ball',
               2,
               u'sec:formula:ex13',
               u'sec:formula:ex13'),
              (u'Exercise 14: Find errors in the coding of formulas',
               2,
               u'sec:formula:ex1',
               u'sec:formula:ex1'),
              (u'Exercise 15: Explain why a program does not work',
               2,
               u'sec:formula:ex15',
               u'sec:formula:ex15'),
              (u'Exercise 16: Find errors in Python statements',
               2,
               u'sec:formula:ex2',
               u'sec:formula:ex2'),
              (u'Exercise 17: Find errors in the coding of a formula',
               2,
               u'sec:formula:ex4',
               u'sec:formula:ex4'),
              (u'Exercise 18: Find errors in a program',
               2,
               u'sec:formula:exer:mathfile',
               u'sec:formula:exer:mathfile'),
              (u'References', 1, None, '___sec90')]}
end of tocinfo -->

<body>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: {
     equationNumbers: {  autoNumber: "none"  },
     extensions: ["AMSmath.js", "AMSsymbols.js", "autobold.js", "color.js"]
  }
});
</script>
<script type="text/javascript"
 src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- newcommands_keep.tex -->
$$
\newcommand{\tp}{\thinspace .}
$$




    
<!-- Bootstrap navigation bar -->
<div class="navbar navbar-default navbar-fixed-top">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="formulas-readable.html">Computing with formulas</a>
  </div>

  <div class="navbar-collapse collapse navbar-responsive-collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents <b class="caret"></b></a>
        <ul class="dropdown-menu">
     <!-- navigation toc: --> <li><a href="._formulas-readable000.html#table_of_contents" style="font-size: 80%;"><b>Table of contents</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#sec:formula:1" style="font-size: 80%;"><b>The first programming encounter: a formula</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#sec:formula:1st" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using a program as a calculator</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;About programs and programming</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec3" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Tools for writing programs</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec4" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Writing and running your first Python program</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec5" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Warning about typing program text</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec6" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Verifying the result</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#sec:formula:variables" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using variables</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec8" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Names of variables</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#sec:formula:keywords" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Reserved words in Python</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec10" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Comments</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec11" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remark</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#sec:formula:format" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Formatting text and numbers</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec13" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Printf syntax</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec14" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Format string syntax</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec15" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The newline character</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable002.html#sec:formula:glossary" style="font-size: 80%;"><b>Computer science glossary</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#sec:formula:c2f" style="font-size: 80%;"><b>Another formula: Celsius-Fahrenheit conversion</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#sec:formula:intdiv" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Potential error: integer division</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#___sec19" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Straightforward coding of the formula</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#___sec20" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Verifying the results</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#___sec21" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Float and integer division</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#___sec22" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Objects in Python</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#sec:formula:c2f:correct" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Avoiding integer division</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#___sec24" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Locating potential integer division</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#___sec25" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remark</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable003.html#sec:formula:operators" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Arithmetic operators and precedence</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable004.html#sec:formula:stdmath" style="font-size: 80%;"><b>Evaluating standard mathematical functions</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable004.html#sec:formula:sqrt" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Example: Using the square root function</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable004.html#___sec29" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Problem</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable001.html#___sec30" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The program</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable004.html#___sec31" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Two ways of importing a module</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable004.html#___sec32" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Import with new names</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable004.html#___sec33" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Example: Computing with \( \sinh x \)</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable004.html#sec:formula:roundoff" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;A first glimpse of rounding errors</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#sec:formula:pyshell" style="font-size: 80%;"><b>Interactive computing</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#___sec36" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Using the Python shell</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#sec:formulas:typeconversion" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Type conversion</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#sec:formula:ipython" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;IPython</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#___sec39" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Running programs</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#___sec40" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quick recovery of previous output</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#___sec41" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tab completion</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#___sec42" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recovering previous commands</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#___sec43" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Running Unix/Windows commands</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable005.html#___sec44" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notebooks</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable006.html#sec:formula:complex" style="font-size: 80%;"><b>Complex numbers</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable006.html#___sec46" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Complex arithmetics in Python</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable006.html#___sec47" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Complex functions in Python</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable006.html#formulas:unified:complex:real" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Unified treatment of complex and real functions</a></li>
     <!-- navigation toc: --> <li><a href="#sec:formula:sympy" style="font-size: 80%;"><b>Symbolic computing</b></a></li>
     <!-- navigation toc: --> <li><a href="#sec:formula:sympy:diffint" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Basic differentiation and integration</a></li>
     <!-- navigation toc: --> <li><a href="#___sec51" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Equation solving</a></li>
     <!-- navigation toc: --> <li><a href="#___sec52" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Taylor series and more</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#sec:formula:summary" style="font-size: 80%;"><b>Summary</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec54" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Chapter topics</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec55" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Programs must be accurate!</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec56" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Variables</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec57" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comment lines</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec58" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object types</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec59" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Operators</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec60" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Common mathematical functions</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec61" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Print</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec62" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Complex numbers</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec63" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Terminology</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec64" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Example: Trajectory of a ball</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec65" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Problem</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec66" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Solution</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec67" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;About typesetting conventions in this book</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable008.html#___sec68" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Style guide for Python code</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:exer" style="font-size: 80%;"><b>Exercises</b></a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#___sec70" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;About solving exercises</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex0" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 1: Compute 1+1</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex5" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 2: Write a Hello World program</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex16" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 3: Derive and compute a formula</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex9" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 4: Convert from meters to British length units</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:exex3" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 5: Compute the mass of various substances</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex3" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 6: Compute the growth of money in a bank</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex12" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 7: Find error(s) in a program</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:exex1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 8: Type in program text</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:exex2a" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 9: Type in programs and debug them</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex7" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 10: Evaluate a Gaussian function</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#___sec81" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remarks</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex11" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 11: Compute the air resistance on a football</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex14" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 12: How to cook the perfect egg</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex13" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 13: Derive the trajectory of a ball</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex1" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 14: Find errors in the coding of formulas</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex15" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 15: Explain why a program does not work</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex2" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 16: Find errors in Python statements</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:ex4" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 17: Find errors in the coding of a formula</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#sec:formula:exer:mathfile" style="font-size: 80%;">&nbsp;&nbsp;&nbsp;Exercise 18: Find errors in a program</a></li>
     <!-- navigation toc: --> <li><a href="._formulas-readable009.html#___sec90" style="font-size: 80%;"><b>References</b></a></li>

        </ul>
      </li>
    </ul>
  </div>
</div>
</div> <!-- end of navigation bar -->

<div class="container">

<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p> <!-- add vertical space -->

<a name="part0007"></a>
<!-- !split -->
<p style="font-size:80%">This chapter is taken from the book <a href="http://www.springer.com/gp/book/9783662498866">A Primer on Scientific Programming with Python</a> by H. P. Langtangen, 5th edition, Springer, 2016.</p>

<h1 id="sec:formula:sympy" class="anchor">Symbolic computing</h1>

<p>
Python has a package SymPy for doing symbolic computing, such as
symbolic (exact) integration, differentiation, equation solving,
and expansion of Taylor series, to mention some common operations in
mathematics.  We shall here only give a glimpse of SymPy in action
with the purpose of drawing attention to this powerful part of Python.

<p>
For interactive work with SymPy it is recommended to either use
IPython or the special, interactive shell <code>isympy</code>, which is installed
along with SymPy itself.

<p>
Below we shall explicitly import each symbol we need from SymPy to
emphasize that the symbol comes from that package. For example, it
will be important to know whether <code>sin</code> means the sine function from
the <code>math</code> module, aimed at real numbers, or the special sine function
from <code>sympy</code>, aimed at symbolic expressions.

<h2 id="sec:formula:sympy:diffint" class="anchor">Basic differentiation and integration</h2>

<p>
The following session shows how easy it is to differentiate a formula
\( v_0t - \frac{1}{2}gt^2 \) with respect to \( t \) and integrate the answer
to get the formula back:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">sympy</span> <span style="color: #008000; font-weight: bold">import</span> (
<span style="color: #666666">...</span>     symbols,   <span style="color: #408080; font-style: italic"># define symbols for symbolic math</span>
<span style="color: #666666">...</span>     diff,      <span style="color: #408080; font-style: italic"># differentiate expressions</span>
<span style="color: #666666">...</span>     integrate, <span style="color: #408080; font-style: italic"># integrate expressions</span>
<span style="color: #666666">...</span>     Rational,  <span style="color: #408080; font-style: italic"># define rational numbers</span>
<span style="color: #666666">...</span>     lambdify,  <span style="color: #408080; font-style: italic"># turn symbolic expr. into Python functions</span>
<span style="color: #666666">...</span>     )
<span style="color: #666666">&gt;&gt;&gt;</span> t, v0, g <span style="color: #666666">=</span> symbols(<span style="color: #BA2121">&#39;t v0 g&#39;</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> y <span style="color: #666666">=</span> v0<span style="color: #666666">*</span>t <span style="color: #666666">-</span> Rational(<span style="color: #666666">1</span>,<span style="color: #666666">2</span>)<span style="color: #666666">*</span>g<span style="color: #666666">*</span>t<span style="color: #666666">**2</span>
<span style="color: #666666">&gt;&gt;&gt;</span> dydt <span style="color: #666666">=</span> diff(y, t)
<span style="color: #666666">&gt;&gt;&gt;</span> dydt
<span style="color: #666666">-</span>g<span style="color: #666666">*</span>t <span style="color: #666666">+</span> v0
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&#39;acceleration:&#39;</span>, diff(y, t, t)  <span style="color: #408080; font-style: italic"># 2nd derivative</span>
acceleration: <span style="color: #666666">-</span>g
<span style="color: #666666">&gt;&gt;&gt;</span> y2 <span style="color: #666666">=</span> integrate(dydt, t)
<span style="color: #666666">&gt;&gt;&gt;</span> y2
<span style="color: #666666">-</span>g<span style="color: #666666">*</span>t<span style="color: #666666">**2/2</span> <span style="color: #666666">+</span> t<span style="color: #666666">*</span>v0
</pre></div>
<p>
Note here that <code>t</code> is a <em>symbolic variable</em> (not a <code>float</code> as it is
in numerical computing), and <code>y</code> (like <code>y2</code>) is a <em>symbolic expression</em> (not
a <code>float</code> as it would be in numerical computing).

<p>
A very convenient feature of SymPy is that symbolic expressions can be
turned into ordinary Python functions via <code>lambdify</code>.
Let us take the
<code>dydt</code> expression above and turn it into a Python function
<code>v(t, v0, g)</code> for numerical computing:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">&gt;&gt;&gt;</span> v <span style="color: #666666">=</span> lambdify([t, v0, g],  <span style="color: #408080; font-style: italic"># arguments in v</span>
                 dydt)        <span style="color: #408080; font-style: italic"># symbolic expression</span>
<span style="color: #666666">&gt;&gt;&gt;</span> v(t<span style="color: #666666">=0</span>, v0<span style="color: #666666">=5</span>, g<span style="color: #666666">=9.81</span>)
<span style="color: #666666">5</span>
<span style="color: #666666">&gt;&gt;&gt;</span> v(<span style="color: #666666">2</span>, <span style="color: #666666">5</span>, <span style="color: #666666">9.81</span>)
<span style="color: #666666">-14.62</span>
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #666666">5</span> <span style="color: #666666">-</span> <span style="color: #666666">9.81*2</span>  <span style="color: #408080; font-style: italic"># control the previous calculation</span>
<span style="color: #666666">-14.62</span>
</pre></div>

<h2 id="___sec51" class="anchor">Equation solving </h2>

<p>
A linear equation defined through an expression <code>e</code> that is zero, can
be solved by <code>solve(e, t)</code>, if <code>t</code> is the unknown (symbol) in the
equation. Here we may find the roots of \( y=0 \):

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">sympy</span> <span style="color: #008000; font-weight: bold">import</span> solve
<span style="color: #666666">&gt;&gt;&gt;</span> roots <span style="color: #666666">=</span> solve(y, t)
<span style="color: #666666">&gt;&gt;&gt;</span> roots
[<span style="color: #666666">0</span>, <span style="color: #666666">2*</span>v0<span style="color: #666666">/</span>g]
</pre></div>
<p>
We can easily check the answer by inserting the roots in \( y \).
Inserting an expression <code>e2</code> for <code>e1</code> in some expression <code>e</code>
is done by <code>e.subs(e1, e2)</code>. In our case we check that

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">&gt;&gt;&gt;</span> y<span style="color: #666666">.</span>subs(t, roots[<span style="color: #666666">0</span>])
<span style="color: #666666">0</span>
<span style="color: #666666">&gt;&gt;&gt;</span> y<span style="color: #666666">.</span>subs(t, roots[<span style="color: #666666">1</span>])
<span style="color: #666666">0</span>
</pre></div>

<h2 id="___sec52" class="anchor">Taylor series and more </h2>

<p>
A Taylor polynomial of order <code>n</code> for an expression <code>e</code> in a variable
<code>t</code> around the point <code>t0</code> is computed by <code>e.series(t, t0, n)</code>.
Testing this on \( e^t \) and \( e^{\sin(t)} \) gives

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">sympy</span> <span style="color: #008000; font-weight: bold">import</span> exp, sin, cos
<span style="color: #666666">&gt;&gt;&gt;</span> f <span style="color: #666666">=</span> exp(t)
<span style="color: #666666">&gt;&gt;&gt;</span> f<span style="color: #666666">.</span>series(t, <span style="color: #666666">0</span>, <span style="color: #666666">3</span>)
<span style="color: #666666">1</span> <span style="color: #666666">+</span> t <span style="color: #666666">+</span> t<span style="color: #666666">**2/2</span> <span style="color: #666666">+</span> O(t<span style="color: #666666">**3</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> f <span style="color: #666666">=</span> exp(sin(t))
<span style="color: #666666">&gt;&gt;&gt;</span> f<span style="color: #666666">.</span>series(t, <span style="color: #666666">0</span>, <span style="color: #666666">8</span>)
<span style="color: #666666">1</span> <span style="color: #666666">+</span> t <span style="color: #666666">+</span> t<span style="color: #666666">**2/2</span> <span style="color: #666666">-</span> t<span style="color: #666666">**4/8</span> <span style="color: #666666">-</span> t<span style="color: #666666">**5/15</span> <span style="color: #666666">-</span> t<span style="color: #666666">**6/240</span> <span style="color: #666666">+</span> t<span style="color: #666666">**7/90</span> <span style="color: #666666">+</span> O(t<span style="color: #666666">**8</span>)
</pre></div>
<p>
Output of mathematical expressions in the LaTeX typesetting
system is possible:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">sympy</span> <span style="color: #008000; font-weight: bold">import</span> latex
<span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">print</span> latex(f<span style="color: #666666">.</span>series(t, <span style="color: #666666">0</span>, <span style="color: #666666">7</span>))
<span style="color: #BA2121">&#39;1 + t + </span><span style="color: #BB6622; font-weight: bold">\f</span><span style="color: #BA2121">rac{t^{2}}{2} - </span><span style="color: #BB6622; font-weight: bold">\f</span><span style="color: #BA2121">rac{t^{4}}{8} - </span><span style="color: #BB6622; font-weight: bold">\f</span><span style="color: #BA2121">rac{t^{5}}{15} -</span>
\frac{t<span style="color: #666666">^</span>{<span style="color: #666666">6</span>}}{<span style="color: #666666">240</span>} <span style="color: #666666">+</span> \mathcal{O}\left(t<span style="color: #666666">^</span>{<span style="color: #666666">7</span>}\right)<span style="color: #BA2121">&#39;</span>
</pre></div>
<p>
Finally, we mention that there are tools for expanding and
simplifying expressions:

<p>

<!-- code=python (!bc pyshell) typeset with pygments style "default" -->
<div class="highlight" style="background: #f8f8f8"><pre style="line-height: 125%"><span></span><span style="color: #666666">&gt;&gt;&gt;</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">sympy</span> <span style="color: #008000; font-weight: bold">import</span> simplify, expand
<span style="color: #666666">&gt;&gt;&gt;</span> x, y <span style="color: #666666">=</span> symbols(<span style="color: #BA2121">&#39;x y&#39;</span>)
<span style="color: #666666">&gt;&gt;&gt;</span> f <span style="color: #666666">=</span> <span style="color: #666666">-</span>sin(x)<span style="color: #666666">*</span>sin(y) <span style="color: #666666">+</span> cos(x)<span style="color: #666666">*</span>cos(y)
<span style="color: #666666">&gt;&gt;&gt;</span> simplify(f)
cos(x <span style="color: #666666">+</span> y)
<span style="color: #666666">&gt;&gt;&gt;</span> expand(sin(x<span style="color: #666666">+</span>y), trig<span style="color: #666666">=</span><span style="color: #008000">True</span>)  <span style="color: #408080; font-style: italic"># requires a trigonometric hint</span>
sin(x)<span style="color: #666666">*</span>cos(y) <span style="color: #666666">+</span> sin(y)<span style="color: #666666">*</span>cos(x)
</pre></div>
<p>
<p>
<!-- navigation buttons at the bottom of the page -->
<ul class="pager">
  <li class="previous">
    <a href="._formulas-readable006.html">&larr; Prev</a>
  </li>
  <li class="next">
    <a href="._formulas-readable008.html">Next &rarr;</a>
  </li>
</ul>
<!-- ------------------- end of main content --------------- -->

</div>  <!-- end container -->
<!-- include javascript, jQuery *first* -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

<!-- Bootstrap footer
<footer>
<a href="http://..."><img width="250" align=right src="http://..."></a>
</footer>
-->


</body>
</html>
    

